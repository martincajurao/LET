(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{19538:(e,a,t)=>{"use strict";t.d(a,{D:()=>i,ThemeProvider:()=>n});var s=t(95155),r=t(12115);let l=(0,r.createContext)({isDark:!1,toggleDarkMode:()=>{},setDarkMode:()=>{}});function i(){return(0,r.useContext)(l)}function n(e){let{children:a}=e,[t,i]=(0,r.useState)(!1),[n,c]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=localStorage.getItem("darkMode"),a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t="true"===e||null===e&&a;if(i(t),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),c(!0),window.matchMedia){let e=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{null===localStorage.getItem("darkMode")&&(i(e.matches),e.matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))};return e.addEventListener("change",a),()=>e.removeEventListener("change",a)}},[]),n)?(0,s.jsx)(l.Provider,{value:{isDark:t,toggleDarkMode:()=>{let e=!t;i(e),e?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},setDarkMode:e=>{i(e),e?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}},children:a}):(0,s.jsx)(s.Fragment,{children:a})}},24301:(e,a,t)=>{Promise.resolve().then(t.bind(t,53365))},46830:(e,a,t)=>{"use strict";function s(){return window.location.origin}function r(){let e=s();return"".concat(e,"/api/download")}function l(){let e=s();return"".concat(e,"/api/apk")}function i(){let e=s();return"".concat(e,"/api/daily-task")}t.d(a,{C4:()=>l,s6:()=>i,y_:()=>r}),t(87358)},51834:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>m,Es:()=>p,HM:()=>o,L3:()=>h,c7:()=>u,lG:()=>c,rr:()=>f});var s=t(95155),r=t(12115),l=t(77283),i=t(26615),n=t(64269);let c=l.bL;l.l9;let d=l.ZL,o=l.bm,x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-[1000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});x.displayName=l.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:t,children:r,hideCloseButton:c,...o}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(x,{}),(0,s.jsxs)(l.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-[1001] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[r,!c&&(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let u=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};u.displayName="DialogHeader";let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};p.displayName="DialogFooter";let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=l.hE.displayName;let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});f.displayName=l.VY.displayName},53365:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>eX});var s=t(95155),r=t(12115),l=t(20063),i=t(3998),n=t(86948),c=t(11647),d=t(80991),o=t(65142),x=t(76444),m=t(51834),u=t(47940),p=t(59338),h=t(91480),f=t(36419),g=t(1548),b=t(11064),j=t(11140),N=t(6943),y=t(88822),v=t(19201),w=t(72801),k=t(27314),A=t(92033),C=t(59834),S=t(82111),P=t(9573),E=t(63263),I=t(77187),z=t(70064),R=t(92649),M=t(61270),F=t(42770),T=t(5320),L=t(53489),_=t(52769),D=t(24058),G=t(75797),O=t(64269);let q=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.bL,{className:(0,O.cn)("grid gap-2",t),...r,ref:a})});q.displayName=D.bL.displayName;let V=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(D.q7,{ref:a,className:(0,O.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,s.jsx)(D.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(G.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});V.displayName=D.q7.displayName;var Z=t(59034);let B=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(Z.bL,{ref:a,className:(0,O.cn)("relative overflow-hidden",t),...l,children:[(0,s.jsx)(Z.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)($,{}),(0,s.jsx)(Z.OK,{})]})});B.displayName=Z.bL.displayName;let $=r.forwardRef((e,a)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,s.jsx)(Z.VM,{ref:a,orientation:r,className:(0,O.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,s.jsx)(Z.lr,{className:"relative flex-1 rounded-full bg-border"})})});$.displayName=Z.VM.displayName;var H=t(69795),U=t(94979),W=t(83403),K=t(51190),J=t(50984),Q=t(54537),X=t(60406),Y=t(26497),ee=t(14492);function ea(e){var a;let{questions:t,timePerQuestion:l=60,onComplete:n}=e,o=(0,r.useMemo)(()=>{let e=[];return t.forEach(a=>{let t=e[e.length-1];t&&t.subject===a.subject?t.items.push(a):e.push({subject:a.subject,items:[a]})}),e},[t]),[u,p]=(0,r.useState)(0),[h,f]=(0,r.useState)(0),[g,b]=(0,r.useState)({}),[j,N]=(0,r.useState)({}),[v,w]=(0,r.useState)(t.length*(l||60)),[k]=(0,r.useState)(Date.now()),[A,P]=(0,r.useState)(!1),[I,z]=(0,r.useState)(!1),[R,M]=(0,r.useState)(!1),[F,T]=(0,r.useState)(0),L=(0,r.useCallback)(()=>{n(g,Math.floor((Date.now()-k)/1e3))},[g,k,n]);(0,r.useEffect)(()=>{if(v<=0)return void L();let e=setInterval(()=>w(e=>e-1),1e3);return()=>clearInterval(e)},[v,L]),(0,r.useEffect)(()=>{let e;return R&&I&&(e=setInterval(()=>{T(e=>e+1)},1e3)),()=>clearInterval(e)},[R,I]);let _=o[u],D=null==_?void 0:_.items[h],G=o.slice(0,u).reduce((e,a)=>e+a.items.length,0)+h,Z=(G+1)/(t.length||1)*100,$=Object.keys(g).length;return D?(0,s.jsxs)("div",{className:"fixed inset-0 z-[200] bg-background flex flex-col overflow-hidden animate-in fade-in duration-300",children:[(0,s.jsx)("header",{className:"pt-[env(safe-area-inset-top)] border-b bg-card/90 backdrop-blur-md shrink-0 z-50",children:(0,s.jsxs)("div",{className:"h-14 flex items-center justify-between px-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:(0,O.cn)("flex items-center gap-1 px-2 py-0.5 rounded-full border transition-all",v<60?"bg-rose-500/10 border-rose-500 text-rose-600 animate-pulse":"bg-primary/10 border-primary/20 text-primary"),children:[(0,s.jsx)(C.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"text-[11px] font-black font-mono tracking-tighter",children:(e=>{let a=Math.floor(e/60);return"".concat(a.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(v)})]}),(0,s.jsxs)("div",{className:"hidden sm:flex items-center gap-1.5 text-muted-foreground",children:[(0,s.jsx)(H.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest line-clamp-1",children:_.subject})]})]}),(0,s.jsxs)("div",{className:"flex-1 max-w-[120px] mx-3 md:max-w-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-0.5",children:[(0,s.jsx)("span",{className:"text-[7px] font-black uppercase text-muted-foreground opacity-60",children:"Status"}),(0,s.jsxs)("span",{className:"text-[7px] font-black text-primary",children:[Math.round(Z),"%"]})]}),(0,s.jsx)(d.k,{value:Z,className:"h-1 rounded-full"})]}),(0,s.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>P(!0),className:"font-black text-[9px] uppercase tracking-[0.15em] text-primary h-8 px-2.5 rounded-lg hover:bg-primary/5 transition-all",children:[(0,s.jsx)(U.A,{className:"w-3 h-3 mr-1"}),"Finish"]})]})}),(0,s.jsxs)("main",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-20 relative no-scrollbar",children:(0,s.jsx)("div",{className:"max-w-xl mx-auto w-full",children:(0,s.jsx)(Y.N,{mode:"wait",children:(0,s.jsxs)(ee.P.div,{initial:{x:8,opacity:0},animate:{x:0,opacity:1},exit:{x:-8,opacity:0},transition:{duration:.15},className:"space-y-5",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(c.E,{variant:"secondary",className:"px-2 py-0.5 font-bold uppercase text-[8px] tracking-widest bg-muted/40 border-none rounded-md",children:[_.subject," • ",h+1,"/",_.items.length]}),(0,s.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>N(e=>({...e,[D.id]:!e[D.id]})),className:(0,O.cn)("h-7 px-2 gap-1.5 rounded-lg transition-colors",j[D.id]&&"text-orange-500 bg-orange-500/10"),children:[(0,s.jsx)(W.A,{className:(0,O.cn)("w-3 h-3",j[D.id]&&"fill-current")}),(0,s.jsx)("span",{className:"text-[9px] font-black uppercase tracking-wider",children:j[D.id]?"Flagged":"Review"})]})]}),(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsx)("h2",{className:"text-base md:text-lg font-bold leading-snug text-foreground tracking-tight",children:D.text}),(0,s.jsx)(q,{value:g[D.id]||"",onValueChange:e=>{let a=o[u].items[h];b(t=>({...t,[a.id]:e})),window.dispatchEvent(new CustomEvent("questionAnswered"))},className:"grid grid-cols-1 gap-2",children:D.options.map((e,a)=>(0,s.jsx)(ee.P.div,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},transition:{delay:.03*a},children:(0,s.jsxs)(x.J,{className:(0,O.cn)("flex items-center p-3.5 rounded-xl border-2 cursor-pointer transition-all active:scale-[0.98] group",g[D.id]===e?"border-primary bg-primary/5 ring-1 ring-primary/10 shadow-sm":"border-border bg-card hover:bg-muted/5"),children:[(0,s.jsx)(V,{value:e,className:"sr-only"}),(0,s.jsx)("div",{className:(0,O.cn)("w-7 h-7 rounded-lg border flex items-center justify-center mr-3 font-black text-[10px] transition-colors shrink-0",g[D.id]===e?"bg-primary border-primary text-primary-foreground":"border-border bg-muted/30 text-muted-foreground"),children:String.fromCharCode(65+a)}),(0,s.jsx)("span",{className:"text-sm font-semibold text-foreground leading-tight",children:e})]})},a))})]})]},D.id)})})}),(0,s.jsxs)("aside",{className:"hidden lg:flex w-64 border-l bg-muted/5 flex-col overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b bg-card/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-0.5",children:[(0,s.jsx)("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-foreground",children:"Simulation Map"}),(0,s.jsx)(y.A,{className:"w-3 h-3 text-muted-foreground"})]}),(0,s.jsxs)("p",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest",children:[t.length," Items"]})]}),(0,s.jsx)(B,{className:"flex-1",children:(0,s.jsx)("div",{className:"p-4 space-y-5",children:o.map((e,a)=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between sticky top-0 bg-background/95 backdrop-blur-sm py-1 z-10 border-b border-border/30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:(0,O.cn)("w-1 h-1 rounded-full",u===a?"bg-primary animate-pulse":u>a?"bg-emerald-500":"bg-muted")}),(0,s.jsx)("span",{className:(0,O.cn)("text-[8px] font-black uppercase tracking-widest truncate max-w-[100px]",u===a?"text-foreground":"text-muted-foreground"),children:e.subject})]}),(0,s.jsxs)("span",{className:"text-[7px] font-black text-muted-foreground opacity-60",children:[o[a].items.filter(e=>!!g[e.id]).length,"/",e.items.length]})]}),(0,s.jsx)("div",{className:"grid grid-cols-6 gap-1",children:e.items.map((e,t)=>(0,s.jsx)("button",{onClick:()=>{p(a),f(t)},className:(0,O.cn)("aspect-square rounded-md text-[7px] font-black border transition-all flex items-center justify-center",u===a&&h===t?"border-primary bg-primary text-primary-foreground shadow-sm z-10":g[e.id]?"border-emerald-500/30 bg-emerald-500/10 text-emerald-600":"border-border text-muted-foreground hover:bg-muted/30",j[e.id]&&(u!==a||h!==t)&&"border-orange-500/40 bg-orange-500/5 text-orange-600"),children:t+1},e.id))})]},a))})}),(0,s.jsxs)("div",{className:"p-3 border-t bg-card/50 text-[7px] font-black uppercase tracking-widest text-muted-foreground grid grid-cols-2 gap-1.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-emerald-500"})," Answered"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-primary"})," Current"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-orange-500"})," Flagged"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1 h-1 rounded-full bg-border"})," Open"]})]})]})]}),(0,s.jsx)("footer",{className:"h-auto shrink-0 border-t bg-card/95 backdrop-blur-xl flex flex-col px-5 pb-[env(safe-area-inset-bottom)] shadow-[0_-2px_15px_rgba(0,0,0,0.03)] z-50",children:(0,s.jsxs)("div",{className:"h-16 flex items-center justify-between w-full",children:[(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>{if(h>0)f(e=>e+1);else if(u>0){let e=u-1;p(e),f(o[e].items.length-1)}},disabled:0===u&&0===h,className:"rounded-lg px-3 h-9 font-black text-[9px] uppercase tracking-wider hover:bg-muted/50 transition-all",children:[(0,s.jsx)(K.A,{className:"w-3.5 h-3.5 mr-1"}),"Back"]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-[7px] font-black uppercase tracking-[0.25em] text-muted-foreground leading-none mb-0.5",children:"Item"}),(0,s.jsxs)("p",{className:"text-[11px] font-black text-foreground",children:[G+1," / ",t.length]})]}),(0,s.jsxs)(i.$,{variant:"default",onClick:()=>{h<o[u].items.length-1?f(e=>e+1):u<o.length-1?(M(!1),T(0),z(!0)):P(!0)},className:"rounded-lg px-5 h-9 font-black text-[9px] uppercase tracking-wider shadow-lg shadow-primary/20 hover:scale-[1.03] active:scale-95 transition-all",children:[u===o.length-1&&h===_.items.length-1?"Finish":"Next",(0,s.jsx)(E.A,{className:"w-3.5 h-3.5 ml-1"})]})]})}),(0,s.jsx)(m.lG,{open:I,onOpenChange:z,children:(0,s.jsx)(m.Cf,{className:"rounded-[2rem] bg-card border-none shadow-2xl p-6 max-w-[300px] text-center z-[1001]",children:(0,s.jsxs)(ee.P.div,{initial:{scale:.97,opacity:0},animate:{scale:1,opacity:1},className:"space-y-5",children:[(0,s.jsxs)(m.c7,{children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-emerald-500/10 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(J.A,{className:"w-6 h-6 text-emerald-500"})}),(0,s.jsx)(m.L3,{className:"text-lg font-black tracking-tight mb-0.5",children:"Phase Complete"}),(0,s.jsxs)(m.rr,{className:"text-muted-foreground font-semibold text-[10px] uppercase tracking-wider",children:["Track Finalized: ",(0,s.jsx)("span",{className:"text-foreground",children:_.subject})]})]}),(0,s.jsxs)("div",{className:"bg-muted/20 p-3 rounded-xl border border-border/40 my-2 space-y-2 text-left",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-[8px] font-black text-muted-foreground uppercase tracking-widest",children:"Next Phase"}),(0,s.jsx)(c.E,{className:"font-black text-[8px] uppercase bg-primary/10 text-primary border-none",children:(null==(a=o[u+1])?void 0:a.subject)||"End"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[9px] font-bold text-foreground leading-snug",children:[(0,s.jsx)(Q.A,{className:"w-3.5 h-3.5 text-orange-500"}),(0,s.jsx)("p",{children:"Breaks improve calibration by 15%."})]})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)(i.$,{onClick:()=>{z(!1),M(!1),T(0),p(e=>e+1),f(0)},className:"h-12 rounded-xl font-black text-xs uppercase tracking-widest gap-2 shadow-lg shadow-primary/20 transition-all",children:[(0,s.jsx)(S.A,{className:"w-3.5 h-3.5 fill-current"}),"Proceed"]}),(0,s.jsx)(i.$,{variant:"outline",onClick:()=>M(!0),className:(0,O.cn)("h-10 rounded-lg font-bold text-[9px] uppercase tracking-widest border-2 transition-all",R?"text-orange-600 bg-orange-50 border-orange-100":"text-muted-foreground hover:bg-muted/30"),children:R?"Resting: ".concat((e=>{let a=Math.floor(e/60);return"".concat(a,":").concat((e%60).toString().padStart(2,"0"))})(F)):"Take a Break"})]})]})})}),(0,s.jsx)(m.lG,{open:A,onOpenChange:P,children:(0,s.jsx)(m.Cf,{className:"rounded-[2rem] bg-card border-none shadow-2xl p-6 max-w-[280px] z-[1001]",children:(0,s.jsxs)(ee.P.div,{initial:{y:5,opacity:0},animate:{y:0,opacity:1},className:"space-y-4",children:[(0,s.jsxs)(m.c7,{className:"text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-orange-500/10 rounded-xl flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(X.A,{className:"w-6 h-6 text-orange-500"})}),(0,s.jsx)(m.L3,{className:"text-lg font-black tracking-tight",children:"Finish Simulation?"}),(0,s.jsxs)(m.rr,{className:"text-muted-foreground font-bold text-[10px] uppercase tracking-widest",children:[$,"/",t.length," Items Answered"]})]}),(0,s.jsxs)("div",{className:"grid gap-2 pt-1",children:[(0,s.jsx)(i.$,{onClick:L,className:"h-11 rounded-xl font-black text-[9px] uppercase tracking-[0.2em] shadow-lg shadow-primary/20 transition-all",children:"Submit Now"}),(0,s.jsx)(i.$,{variant:"ghost",onClick:()=>P(!1),className:"h-9 rounded-lg font-bold text-[9px] uppercase tracking-widest text-muted-foreground",children:"Keep Practicing"})]})]})})})]}):null}var et=t(26991),es=t(78765),er=t(12235),el=t(69386),ei=t(98128),en=t(47734),ec=t(73697),ed=t(23508),eo=t(16533),ex=t(14724),em=t(16802),eu=t(20212),ep=t(69489),eh=t(94825),ef=t(27500);let eg={ai:{chat:async(e,a)=>{let t=window.puter||null;return t&&t.ai?t.ai.chat(e,a):(console.warn("Puter AI not available - using fallback"),{toString:()=>"AI explanation temporarily unavailable. Please try again later."})}}};var eb=t(15653);let ej=eb.z.object({questionId:eb.z.string(),text:eb.z.string(),options:eb.z.array(eb.z.string()),correctAnswer:eb.z.string(),userAnswer:eb.z.string(),subject:eb.z.string()});eb.z.object({mistakes:eb.z.array(ej)});let eN=eb.z.object({questionId:eb.z.string(),aiExplanation:eb.z.string().describe("A concise pedagogical explanation (max 2 sentences).")});async function ey(e){try{if(0===e.mistakes.length)return{explanations:[]};if(!eg||!eg.ai)return console.warn("Puter AI not available - using fallback"),{explanations:e.mistakes.map(e=>({questionId:e.questionId,aiExplanation:"Review the core concepts related to this subject track."}))};let a=e.mistakes.map(e=>"Q: ".concat(e.text,"\nCorrect: ").concat(e.correctAnswer,"\nUser: ").concat(e.userAnswer)).join("\n---\n"),t=(await eg.ai.chat('For each of these LET mistakes, provide a 2-sentence pedagogical explanation. \n      First sentence: Identify the correct answer.\n      Second sentence: Explain why the user\'s answer was wrong and the key concept they missed.\n      Return a JSON array of objects with fields "questionId" and "aiExplanation".\n      \n      Mistakes:\n      '.concat(a,"\n      \n      ONLY return JSON array, nothing else."),{model:"gpt-5-nano"})).toString()||"[]",s=[];try{let e=t.substring(t.indexOf("["),t.lastIndexOf("]")+1);s=JSON.parse(e)}catch(e){try{let e=t.substring(t.indexOf("{"),t.lastIndexOf("}")+1),a=JSON.parse(e);s=a.explanations||[a]}catch(e){s=[]}}return{explanations:e.mistakes.map((e,a)=>{let t=Array.isArray(s)?s[a]||s.find(a=>a.questionId===e.questionId):null;return{questionId:e.questionId,aiExplanation:(null==t?void 0:t.aiExplanation)||(null==t?void 0:t.explanation)||"Review the core concepts related to this subject track."}})}}catch(a){return console.error("Puter Batch Explanation Error:",a),{explanations:e.mistakes.map(e=>({questionId:e.questionId,aiExplanation:"Review the core concepts related to this subject track."}))}}}eb.z.object({explanations:eb.z.array(eN)});var ev=t(86374),ew=t(59007);let ek=ev.bL,eA=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(ev.q7,{ref:a,className:(0,O.cn)("border-b",t),...r})});eA.displayName="AccordionItem";let eC=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsx)(ev.Y9,{className:"flex",children:(0,s.jsxs)(ev.l9,{ref:a,className:(0,O.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...l,children:[r,(0,s.jsx)(ew.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});eC.displayName=ev.l9.displayName;let eS=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsx)(ev.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...l,children:(0,s.jsx)("div",{className:(0,O.cn)("pb-4 pt-0",t),children:r})})});eS.displayName=ev.UC.displayName;var eP=t(67558),eE=t(19708),eI=t(15894),ez=t(91126);function eR(e){let{text:a,speed:t=15}=e,[l,i]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=0,s=setInterval(()=>{i(a.substring(0,e)),++e>a.length&&clearInterval(s)},t);return()=>clearInterval(s)},[a,t]),(0,s.jsx)("span",{children:l})}function eM(e){let{questions:a,answers:t,timeSpent:l,aiSummary:d,onRestart:o}=e,{user:x}=(0,eP.useUser)(),u=(0,eP.useFirestore)(),{toast:h}=(0,eI.dj)(),[b,j]=(0,r.useState)({}),[N,y]=(0,r.useState)(new Set),[v,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[S,P]=(0,r.useState)(!1),[z,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(null==x?void 0:x.isPro)&&w(!0)},[x]);let M=(0,r.useMemo)(()=>{let e=0,s={};a.forEach(a=>{let r="Specialization"===a.subject&&a.subCategory?"".concat(a.subject,": ").concat(a.subCategory):a.subject;s[r]||(s[r]={total:0,correct:0}),s[r].total++,t[a.id]===a.correctAnswer&&(e++,s[r].correct++)});let r=Math.round(e/(a.length||1)*100),l=Object.entries(s).map(e=>{let[a,t]=e;return{name:a,score:Math.round(t.correct/(t.total||1)*100),count:t.total}});return{correct:e,total:a.length,overallScore:r,isPassed:r>=75,subjectChartData:l}},[a,t]),F=[{name:"Correct",value:M.correct},{name:"Incorrect",value:M.total-M.correct}],T=["hsl(120, 73%, 75%)","hsl(0, 84%, 60%)"],L=(0,r.useMemo)(()=>{let e={};return a.forEach((a,s)=>{if(t[a.id]!==a.correctAnswer){let t="Specialization"===a.subject&&a.subCategory?"".concat(a.subject,": ").concat(a.subCategory):a.subject;e[t]||(e[t]=[]),e[t].push({...a,originalIndex:s})}}),e},[a,t]),_=(0,r.useMemo)(()=>Object.values(L).reduce((e,a)=>e+a.length,0),[L]),D=async e=>{if(!x||!u||N.has(e.id)||b[e.id])return;let a=!!x.isPro,s="number"==typeof x.credits?x.credits:0,r=!a&&!v;if(r&&s<5)return void h({variant:"destructive",title:"Insufficient Credits",description:"You need 5 Credits for an AI Deep Dive. Refill via Tasks or Ads!"});y(a=>new Set(a).add(e.id));try{if(r){let e=(0,eE.H9)(u,"users",x.uid);await (0,eE.mZ)(e,{credits:(0,eE.GV)(-5),mistakesReviewed:(0,eE.GV)(1),dailyAiUsage:(0,eE.GV)(1)})}let a=await ey({mistakes:[{questionId:e.id,text:e.text,options:e.options,correctAnswer:e.correctAnswer,userAnswer:t[e.id]||"No Answer",subject:e.subject}]});a.explanations&&a.explanations.length>0&&(j(t=>({...t,[e.id]:a.explanations[0].aiExplanation})),r&&h({variant:"reward",title:"Insight Unlocked",description:"-5 Credits spent on AI Deep Dive."}))}catch(a){j(a=>({...a,[e.id]:e.explanation||"Review core concepts for this track."}))}finally{y(a=>{let t=new Set(a);return t.delete(e.id),t})}};return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in duration-500 pb-24",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 bg-card p-8 rounded-[2.5rem] shadow-sm border",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)(c.E,{className:"bg-primary/10 text-primary border-primary/20 px-3 py-0.5 text-[10px] font-black uppercase tracking-[0.2em] mb-2",children:"Simulation Report"}),(0,s.jsx)("h1",{className:"text-3xl font-black font-headline tracking-tight leading-none text-foreground",children:"Overall Performance"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm font-medium",children:"Verified analytical results based on LET board standards."})]}),(0,s.jsxs)("div",{className:"flex gap-3 w-full md:w-auto",children:[(0,s.jsxs)(i.$,{variant:"outline",disabled:k,onClick:o,className:"flex-1 md:flex-none h-12 px-6 rounded-xl font-black text-xs gap-2",children:[(0,s.jsx)(em.A,{className:"w-4 h-4"}),"Exit"]}),(0,s.jsxs)(i.$,{onClick:o,disabled:k,className:"flex-1 md:flex-none h-12 px-8 rounded-xl font-black text-xs shadow-lg gap-2",children:["Retake Track",(0,s.jsx)(E.A,{className:"w-4 h-4"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)(n.Zp,{className:(0,O.cn)("lg:col-span-1 border-none shadow-sm flex flex-col items-center justify-center p-8 rounded-[2.5rem]",M.isPassed?"bg-emerald-500/10 border border-emerald-500/20":"bg-orange-500/10 border border-orange-500/20"),children:[(0,s.jsxs)("div",{className:"relative w-40 h-40 flex items-center justify-center mb-6",children:[(0,s.jsx)(et.u,{width:"100%",height:"100%",children:(0,s.jsx)(es.r,{children:(0,s.jsx)(er.F,{data:F,cx:"50%",cy:"50%",innerRadius:50,outerRadius:70,paddingAngle:8,dataKey:"value",stroke:"none",children:F.map((e,a)=>(0,s.jsx)(el.f,{fill:T[a%T.length]},"cell-".concat(a)))})})}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,s.jsxs)("span",{className:"text-3xl font-black tracking-tight text-foreground",children:[M.overallScore,"%"]}),(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground font-black uppercase tracking-widest",children:"Accuracy"})]})]}),(0,s.jsx)(c.E,{variant:M.isPassed?"secondary":"destructive",className:"px-6 py-1.5 text-sm font-black uppercase tracking-[0.2em] shadow-sm mb-6",children:M.isPassed?"Simulation Passed":"Retake Suggested"}),(0,s.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"p-4 bg-card rounded-2xl border shadow-sm text-center",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-600 mb-1",children:"Correct"}),(0,s.jsx)("p",{className:"text-xl font-black text-foreground",children:M.correct})]}),(0,s.jsxs)("div",{className:"p-4 bg-card rounded-2xl border shadow-sm text-center",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-destructive mb-1",children:"Missed"}),(0,s.jsx)("p",{className:"text-xl font-black text-foreground",children:M.total-M.correct})]})]})]}),(0,s.jsxs)(n.Zp,{className:"lg:col-span-2 border-none shadow-sm rounded-[2.5rem] bg-card p-8",children:[(0,s.jsx)(n.aR,{className:"p-0 mb-8",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,s.jsx)(eu.A,{className:"w-5 h-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(n.ZB,{className:"text-lg font-black tracking-tight text-foreground",children:"Subject Breakdown"}),(0,s.jsx)(n.BT,{className:"text-xs font-medium text-muted-foreground",children:"Proficiency analysis by simulation phase."})]})]})}),(0,s.jsx)(n.Wu,{className:"p-0",children:(0,s.jsx)("div",{className:"h-[200px] w-full",children:(0,s.jsx)(et.u,{width:"100%",height:"100%",children:(0,s.jsxs)(ei.E,{data:M.subjectChartData,layout:"vertical",margin:{left:60,right:40},children:[(0,s.jsx)(en.W,{type:"number",domain:[0,100],hide:!0}),(0,s.jsx)(ec.h,{dataKey:"name",type:"category",width:120,style:{fontSize:"10px",fontWeight:"900",textTransform:"uppercase",fill:"hsl(var(--muted-foreground))"}}),(0,s.jsx)(ed.m,{cursor:{fill:"hsl(var(--muted)/0.1)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))"}}),(0,s.jsx)(eo.y,{dataKey:"score",fill:"hsl(var(--primary))",radius:[0,10,10,0],barSize:28,children:(0,s.jsx)(ex.Z,{dataKey:"score",position:"right",formatter:e=>"".concat(e,"%"),className:"fill-foreground font-black text-[10px]"})})]})})})})]})]}),v?(0,s.jsx)(s.Fragment,{children:d&&(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 animate-in slide-in-from-bottom-8",children:[(0,s.jsxs)(n.Zp,{className:"lg:col-span-2 border-none shadow-sm bg-card overflow-hidden rounded-[2.5rem]",children:[(0,s.jsx)("div",{className:"h-1.5 bg-primary w-full"}),(0,s.jsxs)(n.aR,{className:"flex flex-row items-center gap-4 p-8 pb-4",children:[(0,s.jsx)("div",{className:"p-3 bg-primary/10 rounded-2xl",children:(0,s.jsx)(f.A,{className:"w-6 h-6 text-primary"})}),(0,s.jsx)(n.ZB,{className:"text-xl font-black tracking-tight text-foreground",children:"Pedagogical Analysis"})]}),(0,s.jsxs)(n.Wu,{className:"p-8 pt-4 space-y-6",children:[(0,s.jsx)("div",{className:"p-6 bg-primary/5 rounded-[2rem] italic text-lg leading-relaxed border-l-4 border-primary font-medium text-foreground",children:(0,s.jsx)(eR,{text:d.summary})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"flex items-center gap-2 font-black text-emerald-600 uppercase tracking-widest text-[10px]",children:[(0,s.jsx)(eu.A,{className:"w-4 h-4"})," Conceptual Strengths"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.strengths.map((e,a)=>(0,s.jsx)(c.E,{variant:"secondary",className:"px-3 py-1 text-[11px] font-bold rounded-lg",children:e},a))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("h3",{className:"flex items-center gap-2 font-black text-destructive uppercase tracking-widest text-[10px]",children:[(0,s.jsx)(I.A,{className:"w-4 h-4"})," Recommended Focus"]}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:d.weaknesses.map((e,a)=>(0,s.jsx)(c.E,{variant:"outline",className:"px-3 py-1 border-destructive/20 text-destructive text-[11px] font-bold rounded-lg",children:e},a))})]})]})]})]}),(0,s.jsxs)(n.Zp,{className:"lg:col-span-1 border-none shadow-sm bg-foreground rounded-[2.5rem] p-8 text-background relative overflow-hidden",children:[(0,s.jsx)(n.aR,{className:"p-0 mb-6",children:(0,s.jsx)(n.ZB,{className:"text-sm font-black uppercase tracking-widest text-muted-foreground",children:"Actionable Roadmap"})}),(0,s.jsx)(n.Wu,{className:"p-0 text-sm font-medium leading-relaxed",children:(0,s.jsx)(eR,{text:d.recommendations})})]})]})}):(0,s.jsx)("div",{}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-black font-headline tracking-tight flex items-center gap-3 text-foreground",children:[(0,s.jsx)(ep.A,{className:"w-6 h-6 text-primary"})," Mistake Review & AI Tutor"]}),_>0?(0,s.jsx)(ek,{type:"single",collapsible:!0,className:"w-full space-y-4",children:Object.entries(L).map(e=>{let[a,r]=e;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase text-primary px-2",children:a}),r.map(e=>(0,s.jsxs)(eA,{value:e.id,className:"border-none bg-card rounded-2xl px-2 overflow-hidden shadow-sm",children:[(0,s.jsx)(eC,{className:"hover:no-underline py-4 px-4 text-left",children:(0,s.jsx)("span",{className:"text-xs font-bold line-clamp-1 text-foreground",children:e.text})}),(0,s.jsxs)(eS,{className:"p-6 pt-0 space-y-4",children:[(0,s.jsxs)("div",{className:"bg-muted/30 p-4 rounded-xl border border-border",children:[(0,s.jsx)("p",{className:"font-bold text-sm mb-3 text-foreground",children:e.text}),(0,s.jsx)("div",{className:"grid gap-2",children:e.options.map((a,r)=>(0,s.jsxs)("div",{className:(0,O.cn)("p-3 rounded-lg border text-xs flex items-center gap-2",a===t[e.id]?"bg-orange-500/10 border-orange-500/30 text-orange-600 font-bold":"bg-card text-muted-foreground opacity-70"),children:[(0,s.jsx)("span",{className:"w-5 h-5 rounded-full border flex items-center justify-center text-[9px] shrink-0 border-border",children:String.fromCharCode(65+r)}),a,a===t[e.id]&&(0,s.jsx)("span",{className:"ml-auto text-[10px] font-black uppercase",children:"Your Choice"})]},r))})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)(Y.N,{mode:"wait",children:b[e.id]?(0,s.jsxs)(ee.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,O.cn)("bg-gradient-to-br p-6 rounded-2xl border relative overflow-hidden group",(null==x?void 0:x.isPro)||v?"from-emerald-500/10 to-emerald-500/5 border-emerald-500/20":"from-primary/10 to-primary/5 border-primary/20"),children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-transparent to-current opacity-5 rounded-full -translate-y-1/2 translate-x-1/2"}),(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,O.cn)("w-8 h-8 rounded-xl flex items-center justify-center shrink-0 border-2",(null==x?void 0:x.isPro)||v?"bg-emerald-500/10 border-emerald-500/20":"bg-primary/10 border-primary/20"),children:(0,s.jsx)(ef.A,{className:(0,O.cn)("w-4 h-4",(null==x?void 0:x.isPro)||v?"text-emerald-600":"text-primary")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:(0,O.cn)("text-[10px] font-black uppercase tracking-[0.2em] block",(null==x?void 0:x.isPro)||v?"text-emerald-600":"text-primary"),children:"AI Tutor Insight"}),(0,s.jsx)("span",{className:"text-[8px] text-muted-foreground font-medium",children:"Personalized explanation ready"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[((null==x?void 0:x.isPro)||v)&&(0,s.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-emerald-500/10 border border-emerald-500/20 rounded-lg",children:[(0,s.jsx)(g.A,{className:"w-3 h-3 text-yellow-600"}),(0,s.jsx)("span",{className:"text-[8px] font-black text-emerald-600",children:"PRO"})]}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"})]})]}),(0,s.jsx)("div",{className:(0,O.cn)("text-sm leading-relaxed font-medium rounded-xl p-4 border",(null==x?void 0:x.isPro)||v?"bg-emerald-50/50 border-emerald-500/10 text-emerald-800":"bg-primary/50 border-primary/10 text-primary"),children:(0,s.jsx)(eR,{text:b[e.id]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,s.jsxs)(i.$,{size:"sm",variant:"outline",className:"h-8 px-3 rounded-lg text-[10px] font-black border-current/20 hover:bg-current/5",children:[(0,s.jsx)(ep.A,{className:"w-3 h-3 mr-1"}),"Related Topics"]}),(0,s.jsx)(i.$,{size:"sm",variant:"ghost",className:"h-8 px-3 rounded-lg text-[10px] font-black hover:bg-current/5",children:"Save Note"})]})]}):(0,s.jsxs)(i.$,{onClick:()=>D(e),disabled:N.has(e.id),size:"sm",className:(0,O.cn)("w-full font-black gap-3 transition-all h-16 rounded-2xl shadow-lg active:scale-95 group relative overflow-hidden border-2",N.has(e.id)?"border-primary/30 bg-primary/10 text-primary":(null==x?void 0:x.isPro)||v?"border-emerald-500/30 bg-emerald-500/5 hover:bg-emerald-500/10 text-emerald-700 hover:text-emerald-800":"border-primary/30 bg-primary/5 hover:bg-primary/10 text-primary hover:shadow-primary/30"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("div",{className:"flex items-center gap-3",children:N.has(e.id)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(A.A,{className:"w-5 h-5 animate-spin"}),(0,s.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20 animate-ping"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsx)("span",{className:"font-black text-sm",children:"AI Processing"}),(0,s.jsx)("span",{className:"text-[10px] opacity-80",children:"Analyzing mistake patterns..."})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:(0,O.cn)("w-5 h-5",(null==x?void 0:x.isPro)||v?"text-emerald-600":"text-primary")}),(0,s.jsx)("span",{className:"font-black",children:"Get AI Deep Dive"})]})})}),!N.has(e.id)&&(0,s.jsx)("div",{className:(0,O.cn)("flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-[10px] transition-all border-2 font-bold",(null==x?void 0:x.isPro)||v?"bg-emerald-500/10 border-emerald-500/20 text-emerald-600":"animate-breathing-primary bg-primary/10 border-primary/20 text-primary"),children:(null==x?void 0:x.isPro)||v?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J.A,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"FREE"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eh.A,{className:"w-3.5 h-3.5 fill-current text-primary"}),(0,s.jsx)("span",{className:"text-primary",children:"5 CREDITS"})]})})]}),N.has(e.id)&&(0,s.jsx)(ee.P.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:3,ease:"easeInOut"},className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-primary/50 to-primary"})]})})})]})]},e.id))]},a)})}):(0,s.jsxs)("div",{className:"text-center py-20 bg-emerald-500/5 rounded-[3rem] border-2 border-dashed border-emerald-500/20",children:[(0,s.jsx)(f.A,{className:"w-16 h-16 text-emerald-500 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-2xl font-black text-foreground",children:"Exceptional Mastery!"})]})]}),(0,s.jsx)(m.lG,{open:z,onOpenChange:R,children:(0,s.jsxs)(m.Cf,{className:"rounded-[2.5rem] border-none shadow-2xl p-0 max-w-[340px] overflow-hidden outline-none z-[1100]",children:[(0,s.jsxs)("div",{className:"bg-emerald-500/10 p-12 flex flex-col items-center justify-center relative overflow-hidden",children:[(0,s.jsx)(ee.P.div,{initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{type:"spring",damping:12,stiffness:200,delay:.1},className:"w-20 h-20 bg-emerald-500 text-white rounded-[2rem] flex items-center justify-center shadow-2xl relative z-10",children:(0,s.jsx)(J.A,{className:"w-10 h-10"})}),(0,s.jsx)(ee.P.div,{animate:{scale:[1,1.2,1],opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 bg-gradient-to-br from-emerald-500/30 to-transparent z-0"}),(0,s.jsx)("div",{className:"absolute inset-0 z-5 pointer-events-none",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,s.jsx)(ee.P.div,{initial:{opacity:0,y:0},animate:{opacity:[0,1,0],y:-80,x:(a-2)*30},transition:{duration:2,repeat:1/0,delay:.4*a},className:"absolute bottom-0 left-1/2",children:(0,s.jsx)(p.A,{className:"w-3 h-3 text-emerald-500 fill-current"})},a))})]}),(0,s.jsxs)("div",{className:"p-8 pt-4 text-center space-y-6",children:[(0,s.jsx)(ee.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-2",children:(0,s.jsx)(m.c7,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-emerald-600 mb-1",children:"Access Granted"}),(0,s.jsx)(m.L3,{className:"text-2xl font-black tracking-tight text-foreground",children:"Summary Unlocked!"}),(0,s.jsx)(m.rr,{className:"text-muted-foreground font-bold text-[10px] uppercase tracking-widest mt-1",children:"Pedagogical insights are now active"})]})})}),(0,s.jsxs)(ee.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-muted/30 rounded-2xl p-4 border border-border/50 flex flex-col items-center gap-1",children:[(0,s.jsx)("span",{className:"text-[9px] font-black uppercase text-muted-foreground",children:"Session Value"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ep.A,{className:"w-5 h-5 text-primary"}),(0,s.jsx)("span",{className:"text-2xl font-black text-foreground",children:"Summary Ready"})]})]}),(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:(0,s.jsxs)(i.$,{onClick:()=>R(!1),className:"w-full h-14 rounded-2xl font-black text-base gap-2 shadow-lg shadow-emerald-500/20 bg-emerald-600 hover:bg-emerald-700 text-white",children:["Start Review",(0,s.jsx)(E.A,{className:"w-4 h-4"})]})})]})]})})]})}var eF=t(26615);function eT(e){let{questions:a,onComplete:t,onExit:l}=e,[n,d]=(0,r.useState)(0),[o,m]=(0,r.useState)({}),[u]=(0,r.useState)(Date.now()),[p,f]=(0,r.useState)(120),[g,b]=(0,r.useState)("");(0,r.useEffect)(()=>{b("")},[n]);let j=(0,r.useCallback)(()=>{t(o,Math.floor((Date.now()-u)/1e3))},[o,u,t]);(0,r.useEffect)(()=>{if(p<=0)return void j();let e=setInterval(()=>f(e=>e-1),1e3);return()=>clearInterval(e)},[p,j]);let N=(n+1)/a.length*100,y=a[n];return y?(0,s.jsxs)("div",{className:"fixed inset-0 z-[200] bg-background flex flex-col overflow-hidden",children:[(0,s.jsx)("header",{className:"pt-[env(safe-area-inset-top)] border-b bg-card/50 backdrop-blur-md shrink-0",children:(0,s.jsxs)("div",{className:"h-14 flex items-center justify-between px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-7 h-7 bg-primary rounded-lg flex items-center justify-center shadow-md",children:(0,s.jsx)(h.A,{className:"w-4 h-4 text-primary-foreground fill-current"})}),(0,s.jsx)("span",{className:"font-black tracking-tight text-[10px] uppercase text-muted-foreground",children:"Quick Fire"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:(0,O.cn)("flex items-center gap-1.5 px-2 py-1 rounded-full border bg-background",p<20?"border-rose-500 text-rose-500 animate-pulse":"border-border"),children:[(0,s.jsx)(C.A,{className:"w-3.5 h-3.5"}),(0,s.jsxs)("span",{className:"font-black font-mono text-xs",children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]})]}),(0,s.jsx)(i.$,{variant:"ghost",size:"icon",onClick:l,className:"h-8 w-8 rounded-full",children:(0,s.jsx)(eF.A,{className:"w-4 h-4"})})]})]})}),(0,s.jsx)("div",{className:"h-1 w-full bg-muted",children:(0,s.jsx)(ee.P.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:"".concat(N,"%")},transition:{duration:.4}})}),(0,s.jsx)("main",{className:"flex-1 flex flex-col p-4 md:p-6 overflow-y-auto",children:(0,s.jsx)("div",{className:"max-w-lg mx-auto w-full flex-1 flex flex-col",children:(0,s.jsx)(Y.N,{mode:"wait",children:(0,s.jsxs)(ee.P.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.2},className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)(c.E,{variant:"secondary",className:"px-2 py-0.5 rounded-lg font-black uppercase text-[9px] tracking-widest bg-primary/10 text-primary border-none",children:["Item ",n+1,"/5 • ",y.subject]})}),(0,s.jsx)("h2",{className:"text-lg md:text-xl font-black text-center leading-snug tracking-tight text-foreground px-2",children:y.text}),(0,s.jsx)(q,{value:g,onValueChange:e=>{if(g)return;b(e);let s=a[n],r={...o,[s.id]:e};m(r),setTimeout(()=>{n<a.length-1?d(e=>e+1):t(r,Math.floor((Date.now()-u)/1e3))},400)},className:"grid grid-cols-1 gap-2",children:y.options.map((e,a)=>(0,s.jsx)(ee.P.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.05*a},children:(0,s.jsxs)(x.J,{className:(0,O.cn)("flex items-center p-3.5 rounded-2xl border-2 cursor-pointer transition-all active:scale-[0.98]",g===e?"border-primary bg-primary/5 ring-2 ring-primary/10":"border-border bg-card hover:bg-muted/10"),children:[(0,s.jsx)(V,{value:e,className:"sr-only"}),(0,s.jsx)("div",{className:(0,O.cn)("w-8 h-8 rounded-xl border-2 flex items-center justify-center mr-3 font-black text-xs transition-colors shrink-0",g===e?"bg-primary border-primary text-primary-foreground":"border-border bg-muted text-muted-foreground"),children:String.fromCharCode(65+a)}),(0,s.jsx)("span",{className:"text-sm font-bold text-foreground leading-tight",children:e})]})},a))})]},n)})})}),(0,s.jsx)("footer",{className:"pb-[env(safe-area-inset-bottom)] border-t bg-card/30 backdrop-blur-sm shrink-0",children:(0,s.jsx)("div",{className:"p-4 flex justify-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground font-black text-[8px] uppercase tracking-widest opacity-50",children:[(0,s.jsx)(ep.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Analytical Teaser"})]})})})]}):null}var eL=t(78770),e_=t(15039),eD=t(59915);function eG(e){let{questions:a,answers:t,timeSpent:l,xpEarned:c,onRestart:d}=e,{user:o}=(0,eP.useUser)(),x=(0,eP.useFirestore)(),{toast:m}=(0,eI.dj)(),[u,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[j,N]=(0,r.useState)({}),y=a.filter(e=>t[e.id]!==e.correctAnswer),v=a.length-y.length,w=Math.round(v/(a.length||1)*100),k=async()=>{if(0!==y.length&&o&&x){if((o.dailyAdCount||0)>=ez.ci)return void m({title:"Ad Limit Reached",description:"You've reached your daily professional clip allowance.",variant:"destructive"});p(!0),b(!1),setTimeout(async()=>{b(!0),setTimeout(async()=>{try{let e=await ey({mistakes:y.map(e=>({questionId:e.id,text:e.text,options:e.options,correctAnswer:e.correctAnswer,userAnswer:t[e.id]||"No Answer",subject:e.subject}))});if(e.explanations){let a={};e.explanations.forEach(e=>a[e.questionId]=e.aiExplanation),N(a);let t=(0,eE.H9)(x,"users",o.uid);await (0,eE.mZ)(t,{dailyAdCount:(0,eE.GV)(1),mistakesReviewed:(0,eE.GV)(y.length)}),m({variant:"reward",title:"Insights Unlocked!",description:"AI Pedagogical explanations are now visible below."})}}catch(e){m({variant:"destructive",title:"Sync Error",description:"Could not generate batch explanations."})}finally{p(!1),b(!1)}},1500)},3500)}};return(0,s.jsxs)("div",{className:"max-w-xl mx-auto py-12 px-4 space-y-8 animate-in fade-in zoom-in-95 duration-500",children:[(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-yellow-500/10 rounded-[2rem] flex items-center justify-center mx-auto shadow-xl shadow-yellow-500/5",children:(0,s.jsx)(f.A,{className:"w-10 h-10 text-yellow-600"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h1",{className:"text-4xl font-black tracking-tighter",children:"Challenge Complete!"}),(0,s.jsx)("p",{className:"text-muted-foreground font-medium uppercase tracking-widest text-xs",children:"Professional Brain Teaser Calibrated"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)(n.Zp,{className:"border-none shadow-xl rounded-[2.5rem] bg-foreground text-background overflow-hidden relative group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-6 opacity-10",children:(0,s.jsx)(h.A,{className:"w-16 h-16 fill-current"})}),(0,s.jsxs)(n.aR,{className:"p-8 pb-2",children:[(0,s.jsx)(n.BT,{className:"text-primary font-black uppercase tracking-widest text-[10px]",children:"Growth Reward"}),(0,s.jsxs)(n.ZB,{className:"text-5xl font-black text-primary",children:["+",c," ",(0,s.jsx)("span",{className:"text-xl opacity-60",children:"XP"})]})]}),(0,s.jsx)(n.Wu,{className:"p-8 pt-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[(0,s.jsx)(R.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,s.jsx)("span",{children:"Score-based professional bonus"})]})})]}),(0,s.jsxs)(n.Zp,{className:"border-none shadow-xl rounded-[2.5rem] bg-card overflow-hidden",children:[(0,s.jsxs)(n.aR,{className:"p-8 pb-2",children:[(0,s.jsx)(n.BT,{className:"text-muted-foreground font-black uppercase tracking-widest text-[10px]",children:"Accuracy"}),(0,s.jsxs)(n.ZB,{className:"text-5xl font-black text-foreground",children:[w,"%"]})]}),(0,s.jsx)(n.Wu,{className:"p-8 pt-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-emerald-600",children:[(0,s.jsx)(J.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[v," / ",a.length," Correct"]})]})})]})]}),y.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("h3",{className:"font-black text-lg flex items-center gap-2",children:[(0,s.jsx)(eL.A,{className:"w-5 h-5 text-rose-500"}),"Mistake Analysis"]}),u&&(0,s.jsx)("p",{className:"text-[9px] font-black uppercase text-primary animate-pulse tracking-widest",children:"Finish video to unlock insights"})]}),0===Object.keys(j).length&&(0,s.jsx)(i.$,{onClick:k,disabled:u||((null==o?void 0:o.dailyAdCount)||0)>=ez.ci,variant:"outline",size:"sm",className:"h-10 rounded-xl font-black text-[10px] uppercase tracking-widest gap-2 bg-primary/5 border-primary/20 text-primary hover:bg-primary/10 transition-all shadow-sm",children:u?g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e_.A,{className:"w-4 h-4 animate-pulse"})," Verifying..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.A,{className:"w-4 h-4 animate-spin"})," Watching..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.A,{className:"w-3.5 h-3.5 fill-current"}),((null==o?void 0:o.dailyAdCount)||0)>=ez.ci?"Limit Reached":"Watch Ad to Reveal All"]})})]}),(0,s.jsx)("div",{className:"space-y-3",children:a.map((e,a)=>{let r=t[e.id]===e.correctAnswer,l=!!j[e.id];return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:(0,O.cn)("flex items-center justify-between p-4 rounded-2xl transition-all border",r?"bg-muted/30 border-border/50":"bg-rose-500/5 border-rose-500/20"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:(0,O.cn)("w-8 h-8 rounded-lg flex items-center justify-center font-black text-xs",r?"bg-emerald-500/10 text-emerald-600":"bg-rose-500/10 text-rose-600"),children:a+1}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase text-muted-foreground opacity-60 leading-none mb-1",children:e.subject}),(0,s.jsx)("p",{className:"text-xs font-bold text-foreground line-clamp-1",children:e.text})]})]}),r?(0,s.jsx)(J.A,{className:"w-5 h-5 text-emerald-500"}):(0,s.jsx)(h.A,{className:"w-5 h-5 text-rose-500 opacity-30"})]}),(0,s.jsx)(Y.N,{children:!r&&l&&(0,s.jsxs)(ee.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"bg-primary/5 p-4 rounded-2xl border border-primary/10 text-xs italic leading-relaxed text-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(ef.A,{className:"w-3 h-3 text-primary"}),(0,s.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest text-primary",children:"AI Insight"})]}),j[e.id]]})})]},e.id)})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,s.jsxs)(i.$,{onClick:d,disabled:u,className:"h-16 rounded-2xl font-black text-lg shadow-xl shadow-primary/30 gap-3",children:[(0,s.jsx)(h.A,{className:"w-5 h-5 fill-current"}),"Back to Dashboard"]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-6 pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:[(0,s.jsx)(eD.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Time: ",Math.floor(l/60),"m ",l%60,"s"]})]}),(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-border rounded-full"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:[(0,s.jsx)(ep.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Analytical Focus: High"})]})]})]})]})}function eO(e){let{open:a,onClose:t,onUnlock:l,questionsCount:n,correctAnswers:d,timeSpent:o}=e,{user:x}=(0,eP.useUser)(),u=(0,eP.useFirestore)(),{toast:f}=(0,eI.dj)(),[g,b]=(0,r.useState)(null),[j,N]=(0,r.useState)(0),[y,v]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[C,P]=(0,r.useState)(!1),E=Math.round(d/(n||1)*100),I=!!(null==x?void 0:x.isPro),z="number"==typeof(null==x?void 0:x.credits)?x.credits:0,F=((null==x?void 0:x.dailyAdCount)||0)<ez.ci;(0,r.useEffect)(()=>{a&&(b(null),N(0),v(!1),k(!1),P(!1))},[a]),(0,r.useEffect)(()=>{let e;return w&&"ad"===g&&!y?e=setInterval(()=>{N(a=>a>=100?(clearInterval(e),100):a+15*Math.random()+5)},300):y&&(e=setInterval(()=>{N(a=>a>=100?(clearInterval(e),_(),100):a+8)},200)),()=>clearInterval(e)},[w,g,y]);let T=async()=>{x&&u&&F&&(b("ad"),k(!0),setTimeout(()=>{v(!0)},3500))},L=async()=>{if(!x||!u||z<10)return void f({variant:"destructive",title:"Insufficient Credits",description:"You need 10 Credits to unlock results. Complete daily tasks or watch ads to earn more!"});b("credits"),k(!0);try{let e=(0,eE.H9)(u,"users",x.uid);await (0,eE.mZ)(e,{credits:(0,eE.GV)(-10)}),setTimeout(()=>{_()},1500)}catch(e){f({variant:"destructive",title:"Transaction Failed",description:"Could not process credit deduction. Please try again."}),k(!1),b(null)}},_=()=>{P(!0),setTimeout(()=>{l(),t()},2e3)};return I?null:(0,s.jsx)(m.lG,{open:a,onOpenChange:t,children:(0,s.jsxs)(m.Cf,{className:"rounded-[2.5rem] bg-gradient-to-b from-foreground to-foreground/95 text-background border-none shadow-2xl p-0 max-w-[400px] overflow-hidden outline-none z-[1100]",children:[(0,s.jsxs)("div",{className:"relative p-8 pb-6 text-center",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:y?(0,s.jsx)(e_.A,{className:"w-24 h-24 text-primary animate-pulse"}):(0,s.jsx)(M.A,{className:"w-24 h-24"})}),(0,s.jsxs)(ee.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",damping:15,stiffness:200},className:"mb-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-primary/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border-2 border-primary/30",children:(0,s.jsx)(ep.A,{className:"w-8 h-8 text-primary"})}),(0,s.jsx)(m.L3,{className:"text-3xl font-black tracking-tight mb-2",children:C?"Access Granted!":"Unlock Your Results"}),(0,s.jsx)(m.rr,{className:"text-muted-foreground font-medium text-base max-w-sm mx-auto",children:C?"Your detailed performance analysis is ready for review.":"Get instant access to AI-powered insights and personalized recommendations."})]}),(0,s.jsxs)(ee.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-3 gap-3 mb-6",children:[(0,s.jsxs)("div",{className:"bg-background/20 backdrop-blur-sm rounded-xl p-3 border border-background/30",children:[(0,s.jsx)("p",{className:"text-[8px] font-black uppercase text-muted-foreground mb-1",children:"Score"}),(0,s.jsxs)("p",{className:"text-xl font-black",children:[E,"%"]})]}),(0,s.jsxs)("div",{className:"bg-background/20 backdrop-blur-sm rounded-xl p-3 border border-background/30",children:[(0,s.jsx)("p",{className:"text-[8px] font-black uppercase text-muted-foreground mb-1",children:"Correct"}),(0,s.jsxs)("p",{className:"text-xl font-black",children:[d,"/",n]})]}),(0,s.jsxs)("div",{className:"bg-background/20 backdrop-blur-sm rounded-xl p-3 border border-background/30",children:[(0,s.jsx)("p",{className:"text-[8px] font-black uppercase text-muted-foreground mb-1",children:"Time"}),(0,s.jsxs)("p",{className:"text-xl font-black",children:[Math.floor(o/60),"m"]})]})]})]}),(0,s.jsxs)(Y.N,{mode:"wait",children:[!C&&(0,s.jsxs)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"px-8 pb-8 space-y-4",children:[(0,s.jsxs)(i.$,{onClick:T,disabled:w||!F,className:(0,O.cn)("w-full h-16 rounded-2xl font-bold text-base gap-3 transition-all relative overflow-hidden group",F?"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/20":"bg-muted/50 text-muted-foreground cursor-not-allowed"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[w&&"ad"===g?y?(0,s.jsx)(e_.A,{className:"w-6 h-6 animate-pulse"}):(0,s.jsx)(A.A,{className:"w-6 h-6 animate-spin"}):(0,s.jsx)(S.A,{className:"w-6 h-6 fill-current"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-black",children:w&&"ad"===g?y?"Verifying...":"Playing...":"Watch Ad"}),(0,s.jsx)("p",{className:"text-[10px] opacity-80 font-medium",children:w&&"ad"===g?y?"Confirming completion":"Professional clip in progress":F?"".concat(ez.ci-((null==x?void 0:x.dailyAdCount)||0)," remaining today"):"Daily limit reached"})]})]}),(0,s.jsx)(c.E,{className:"bg-background/20 border-background/30 text-background font-black text-xs",children:"FREE"})]}),w&&"ad"===g&&(0,s.jsx)(ee.P.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:.3},className:"absolute bottom-0 left-0 h-1 bg-background/40",children:(0,s.jsx)(ee.P.div,{initial:{width:0},animate:{width:"".concat(j,"%")},transition:{duration:.3},className:"h-full bg-background"})})]}),(0,s.jsxs)(i.$,{onClick:L,disabled:w||z<10,variant:"outline",className:(0,O.cn)("w-full h-16 rounded-2xl font-bold text-base gap-3 border-2 transition-all relative overflow-hidden group",z>=10?"border-primary/30 bg-primary/5 hover:bg-primary/10 text-primary":"border-muted/30 bg-muted/10 text-muted-foreground cursor-not-allowed"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[w&&"credits"===g?(0,s.jsx)(A.A,{className:"w-6 h-6 animate-spin"}):(0,s.jsx)(eh.A,{className:"w-6 h-6 fill-current"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-black",children:w&&"credits"===g?"Processing...":"Use Credits"}),(0,s.jsx)("p",{className:"text-[10px] opacity-80 font-medium",children:z>=10?"".concat(z," credits available"):"Need ".concat(10-z," more credits")})]})]}),(0,s.jsxs)(c.E,{className:(0,O.cn)("font-black text-xs",z>=10?"bg-primary/20 border-primary/30 text-primary":"bg-muted/20 border-muted/30 text-muted-foreground"),children:[(0,s.jsx)(eh.A,{className:"w-3 h-3 mr-1"}),"10"]})]}),w&&"credits"===g&&(0,s.jsx)(ee.P.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1.5},className:"absolute bottom-0 left-0 h-1 bg-primary/20",children:(0,s.jsx)(ee.P.div,{initial:{width:0},animate:{width:"100%"},transition:{duration:1.5},className:"h-full bg-primary"})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground",children:"Premium members get unlimited access to all features"})})]},"unlock-options"),C&&(0,s.jsxs)(ee.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"px-8 pb-8 text-center",children:[(0,s.jsx)(ee.P.div,{initial:{scale:0,rotate:-45},animate:{scale:1,rotate:0},transition:{type:"spring",damping:12,stiffness:200,delay:.1},className:"w-16 h-16 bg-emerald-500 text-white rounded-2xl flex items-center justify-center shadow-2xl mx-auto mb-4",children:(0,s.jsx)(J.A,{className:"w-8 h-8"})}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-lg font-black",children:"Analysis Unlocked!"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Redirecting to your detailed results..."})]}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-2",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 text-yellow-400"}),(0,s.jsx)(h.A,{className:"w-4 h-4 text-blue-400"}),(0,s.jsx)(R.A,{className:"w-4 h-4 text-purple-400"})]})]},"success")]})]})})}function eq(e){let{isOpen:a,onClose:t,rank:r,reward:l}=e,n=(0,ez.H8)(r),c=r+1,d=(0,ez.H8)(c);return(0,s.jsx)(m.lG,{open:a,onOpenChange:t,children:(0,s.jsxs)(m.Cf,{className:"rounded-[3rem] border-none shadow-2xl p-0 max-w-[340px] overflow-hidden outline-none z-[1100]",children:[(0,s.jsxs)("div",{className:"bg-primary/10 p-12 flex flex-col items-center justify-center relative overflow-hidden",children:[(0,s.jsx)(ee.P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15,stiffness:200,delay:.2},className:"w-24 h-24 bg-primary text-primary-foreground rounded-[2.5rem] flex items-center justify-center shadow-2xl relative z-10",children:(0,s.jsx)(f.A,{className:"w-12 h-12"})}),(0,s.jsx)(ee.P.div,{animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 bg-gradient-to-br from-primary/30 to-transparent z-0"}),(0,s.jsx)("div",{className:"absolute inset-0 z-5 pointer-events-none",children:[...Array(6)].map((e,a)=>(0,s.jsx)(ee.P.div,{initial:{opacity:0,y:0},animate:{opacity:[0,1,0],y:-100,x:(a-2.5)*40},transition:{duration:2,repeat:1/0,delay:.3*a},className:"absolute bottom-0 left-1/2",children:(0,s.jsx)(R.A,{className:"w-3 h-3 text-primary fill-current"})},a))})]}),(0,s.jsxs)("div",{className:"p-8 pt-4 text-center space-y-6",children:[(0,s.jsx)(ee.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-2",children:(0,s.jsx)(m.c7,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary mb-1",children:"Career Ascension"}),(0,s.jsxs)(m.L3,{className:"text-3xl font-black tracking-tight text-foreground",children:["Rank ",r," Reached!"]}),(0,s.jsx)(m.rr,{className:"text-muted-foreground font-bold text-xs uppercase tracking-widest mt-1",children:n})]})})}),(0,s.jsxs)(ee.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6},className:"bg-muted/30 rounded-3xl p-5 border border-border/50 flex flex-col items-center gap-2 relative overflow-hidden",children:[(0,s.jsx)("span",{className:"text-[9px] font-black uppercase text-muted-foreground tracking-wider",children:"Academic Promotion Reward"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(eh.A,{className:"w-7 h-7 text-yellow-600 fill-current"}),(0,s.jsxs)("span",{className:"text-4xl font-black text-foreground",children:["+",l]})]}),(0,s.jsx)("p",{className:"text-[10px] font-medium text-muted-foreground italic",children:"Professional credits added to vault."})]}),(0,s.jsxs)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 text-[9px] font-black uppercase tracking-widest text-muted-foreground opacity-60",children:[(0,s.jsxs)("span",{children:["Current: ",n]}),(0,s.jsx)(E.A,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["Next: ",d]})]}),(0,s.jsxs)(i.$,{onClick:t,className:"w-full h-16 rounded-[2rem] font-black text-lg gap-3 shadow-xl shadow-primary/30 group active:scale-95 transition-all",children:[(0,s.jsx)(h.A,{className:"w-5 h-5 fill-current"}),"Continue Journey"]})]})]})]})})}var eV=t(54541);async function eZ(e){return(await (0,eE.GG)((0,eE.rJ)(e,"questions"))).docs.map(e=>({...e.data(),id:e.id}))}t(9891),t(86501);var eB=t(18516),e$=t(11186),eH=t(19538),eU=t(46830);let eW=()=>(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.18 1-.78 1.85-1.63 2.42v2.01h2.64c1.54-1.42 2.43-3.5 2.43-5.44z",fill:"#4285F4"}),(0,s.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.33C3.99 20.15 7.7 23 12 23z",fill:"#34A853"}),(0,s.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.67H2.18C1.43 9.24 1 10.57 1 12s.43 2.76 1.18 4.33l3.66-2.24z",fill:"#FBBC05"}),(0,s.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.85 2.18 7.67l3.66 2.33c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),eK=e=>{let a=[...e];for(let e=a.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}return a},eJ=e=>{let{message:a}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 animate-in fade-in duration-1000",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ee.P.div,{animate:{rotate:360},transition:{duration:10,repeat:1/0,ease:"linear"},className:"w-32 h-32 border-2 border-dashed border-primary/20 rounded-full absolute -inset-4"}),(0,s.jsx)(ee.P.div,{animate:{rotate:-360},transition:{duration:15,repeat:1/0,ease:"linear"},className:"w-32 h-32 border-2 border-dashed border-primary/10 rounded-full absolute -inset-4 scale-110"}),(0,s.jsxs)("div",{className:"w-24 h-24 bg-primary/10 rounded-[2.5rem] flex items-center justify-center relative z-10 shadow-2xl shadow-primary/10 overflow-hidden",children:[(0,s.jsx)(ee.P.div,{animate:{y:[0,-6,0],rotate:[0,3,-3,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},children:(0,s.jsx)(u.A,{className:"w-12 h-12 text-primary"})}),(0,s.jsx)(ee.P.div,{animate:{opacity:[0,1,0],scale:[.5,1.2,.5],x:[0,15,-5,0],y:[0,-10,15,0]},transition:{duration:4,repeat:1/0},className:"absolute top-4 right-4",children:(0,s.jsx)(p.A,{className:"w-5 h-5 text-yellow-500 fill-current"})})]})]}),a&&(0,s.jsxs)("div",{className:"space-y-3 text-center",children:[(0,s.jsx)("p",{className:"font-black text-xl tracking-tight text-foreground",children:a}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce [animation-delay:-0.3s]"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce [animation-delay:-0.15s]"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"})]})]})]})};function eQ(){let{user:e,loading:a,updateProfile:t,loginWithGoogle:D,loginWithFacebook:G,bypassLogin:q}=(0,eP.useUser)(),V=(0,eP.useFirestore)(),{toast:Z}=(0,eI.dj)(),{isDark:B,toggleDarkMode:$}=(0,eH.D)(),H=(0,l.useSearchParams)();(0,l.useRouter)();let[U,W]=(0,r.useState)("dashboard"),[K,J]=(0,r.useState)([]),[Q,X]=(0,r.useState)({}),[et,es]=(0,r.useState)(0),[er,el]=(0,r.useState)(0),[ei,en]=(0,r.useState)(!1),[ec,ed]=(0,r.useState)(0),[eo,ex]=(0,r.useState)(""),[em,eu]=(0,r.useState)(!1),[ep,eh]=(0,r.useState)(60),[ef,eg]=(0,r.useState)({limitGenEd:10,limitProfEd:10,limitSpec:10}),[eb,ej]=(0,r.useState)("---"),[eN,ey]=(0,r.useState)(0),[ev,ew]=(0,r.useState)(0),[ek,eA]=(0,r.useState)(!1),[eC,eS]=(0,r.useState)(null),[eR,eF]=(0,r.useState)(""),[eL,e_]=(0,r.useState)(!0),[eD,eQ]=(0,r.useState)(!1),[eX,eY]=(0,r.useState)(!1),e0=(0,r.useMemo)(()=>e?(0,ez.zz)(e.xp||0):null,[null==e?void 0:e.xp]);(0,r.useEffect)(()=>{(async()=>{try{e_(!0);let e=(0,eU.C4)(),a=await fetch(e).catch(e=>{throw console.error("Failed to fetch APK info:",e),e}),t=await a.json();eS(t);let s=(0,eU.y_)(),r=await _.toDataURL(s,{width:256,margin:2,color:{dark:"#10b981",light:"#ffffff"}});eF(r)}catch(e){console.error("Error fetching APK info or generating QR code:",e)}finally{e_(!1)}})()},[]),(0,r.useEffect)(()=>{"quickfire"===H.get("start")?e1("quickfire"):H.get("start")&&e1(H.get("start"))},[H]),(0,r.useEffect)(()=>{if(!V)return;let e=(0,eE.aQ)((0,eE.H9)(V,"system_configs","global"),e=>{if(e.exists()){let a=e.data();eh(a.timePerQuestion||60),eg({limitGenEd:a.limitGenEd||10,limitProfEd:a.limitProfEd||10,limitSpec:a.limitSpec||10})}});return()=>e()},[V]),(0,r.useEffect)(()=>{if(!e||!V)return;let a=(0,eE.P)((0,eE.rJ)(V,"exam_results"),(0,eE._M)("userId","==",e.uid)),t=(0,eE.aQ)(a,async()=>{let e=(await (0,eE.d_)(a)).data().count;ej(e>0?"#".concat(e):"---")});return()=>t()},[e,V]),(0,r.useEffect)(()=>{if(!e)return;if("bypass-user"!==e.uid&&!e.onboardingComplete)return void W("onboarding");let a=setInterval(()=>{let a=Date.now(),t="number"==typeof e.lastAdXpTimestamp?e.lastAdXpTimestamp:0,s="number"==typeof e.lastQuickFireTimestamp?e.lastQuickFireTimestamp:0;ey(Math.max(0,t+ez.fn.AD_XP-a)),ew(Math.max(0,s+ez.fn.QUICK_FIRE-a))},1e3);return()=>clearInterval(a)},[e]);let e1=async a=>{if(!e)return void eu(!0);en(!0),ed(0),ex("Calibrating Learning Path...");try{ed(20);let t=await eZ(V);ed(60);let s=[];if("all"===a){let a=eK(t.filter(e=>"General Education"===e.subject)).slice(0,ef.limitGenEd),r=eK(t.filter(e=>"Professional Education"===e.subject)).slice(0,ef.limitProfEd),l=eK(t.filter(a=>"Specialization"===a.subject&&a.subCategory===((null==e?void 0:e.majorship)||"English"))).slice(0,ef.limitSpec);s=[...a,...r,...l]}else if("quickfire"===a){let e=[],a=t.filter(e=>"General Education"===e.subject),r=t.filter(e=>"Professional Education"===e.subject),l=t.filter(e=>"Specialization"===e.subject);a.length>0&&e.push(eK(a)[0]),r.length>0&&e.push(eK(r)[0]),l.length>0&&e.push(eK(l)[0]);let i=t.filter(a=>!e.find(e=>e.id===a.id));s=eK([...e,...eK(i).slice(0,5-e.length)])}else{let r=t.filter(t=>{let s="Major"===a?"Specialization":a;return"Specialization"===s?"Specialization"===t.subject&&t.subCategory===((null==e?void 0:e.majorship)||"English"):t.subject===s}),l="Professional Education"===a||"Prof Ed"===a?ef.limitProfEd:"Specialization"===a||"Major"===a?ef.limitSpec:ef.limitGenEd;s=eK(r).slice(0,l)}if(0===s.length)throw Error("Insufficient items.");J(s),ed(100),setTimeout(()=>{W("quickfire"===a?"quickfire":"exam"),en(!1)},300)}catch(e){Z({variant:"destructive",title:"Simulation Failed",description:e.message}),en(!1)}},e2=async(a,t)=>{if(!e||!V)return;X(a),es(t),en(!0),ex("Calibrating...");let s=K.map(e=>({questionId:e.id,subject:e.subject,subCategory:e.subCategory||null,difficulty:e.difficulty,isCorrect:a[e.id]===e.correctAnswer})),r=s.filter(e=>e.isCorrect).length,l=Math.round(r/(K.length||1)*100),i=r*ez.E_.CORRECT_ANSWER,n=K.length<=5;n?i+=Math.round(r/5*ez.E_.QUICK_FIRE_COMPLETE):i+=K.length>=50?ez.E_.FINISH_FULL_SIM:ez.E_.FINISH_TRACK,el(i);let c=function e(a){var t;if(void 0===a)return null;if(null===a||"object"!=typeof a||(null==(t=a.constructor)?void 0:t.name)==="FieldValue"||a._methodName&&a._methodName.startsWith("FieldValue."))return a;if(Array.isArray(a))return a.map(e);let s={};for(let t in a){let r=e(a[t]);void 0!==r&&(s[t]=r)}return s}({userId:e.uid,displayName:e.displayName||"Guest Educator",timestamp:Date.now(),overallScore:l,timeSpent:t,xpEarned:i,results:s,lastActiveDate:(0,eE.O5)()});if(!e.uid.startsWith("bypass")){await (0,eE.gS)((0,eE.rJ)(V,"exam_results"),c);let a={dailyQuestionsAnswered:(0,eE.GV)(K.length),dailyTestsFinished:(0,eE.GV)(+!n),xp:(0,eE.GV)(i),lastActiveDate:(0,eE.O5)()};n&&(a.lastQuickFireTimestamp=Date.now()),await (0,eE.mZ)((0,eE.H9)(V,"users",e.uid),a)}ed(100),en(!1),e.isPro||n?(eY(!0),setTimeout(()=>{W(n?"quickfire_results":"results")},300)):eQ(!0)},e5=async()=>{e&&V&&!(eN>0)&&(eA(!0),setTimeout(async()=>{try{await (0,eE.mZ)((0,eE.H9)(V,"users",e.uid),{xp:(0,eE.GV)(ez.E_.AD_WATCH_XP),credits:(0,eE.GV)(5),lastAdXpTimestamp:Date.now()}),Z({title:"Growth Boost!",description:"+".concat(ez.E_.AD_WATCH_XP," XP earned.")})}catch(e){Z({variant:"destructive",title:"Claim Failed",description:"Sync error."})}finally{eA(!1)}},2500))},[e3,e4]=(0,r.useState)(""),[e6,e8]=(0,r.useState)(""),[e9,e7]=(0,r.useState)(!1),[ae,aa]=(0,r.useState)(!1),[at,as]=(0,r.useState)(1),[ar,al]=(0,r.useState)(0),ai=async()=>{if(!e6||!e3)return void Z({title:"Missing Info",description:"Complete the setup."});e7(!0);try{await t({displayName:e3,majorship:e6,onboardingComplete:!0}),W("dashboard")}catch(e){Z({variant:"destructive",title:"Setup Error",description:e.message})}finally{e7(!1)}},an=e=>{let a=Math.ceil(e/6e4);return a>=60?"".concat(Math.floor(a/60),"h ").concat(a%60,"m"):"".concat(a,"m")};if(a)return(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1.2,ease:"easeOut"},className:"fixed inset-0 z-[2000] flex items-center justify-center bg-background bg-gradient-to-b from-background via-background to-primary/5",children:(0,s.jsx)(eJ,{message:"Synchronizing Educator Session"})});let ac=e?[{icon:(0,s.jsx)(h.A,{className:"w-4 h-4 text-yellow-500"}),label:"Credits",value:"number"==typeof e.credits?e.credits:0,color:"text-yellow-500 bg-yellow-500/10"},{icon:(0,s.jsx)(f.A,{className:"w-4 h-4 text-primary"}),label:"Arena",value:eb,color:"text-primary bg-primary/10"},{icon:(null==e?void 0:e.isPro)?(0,s.jsx)(g.A,{className:"w-4 h-4 text-yellow-600"}):(0,s.jsx)(b.A,{className:"w-4 h-4 text-blue-500"}),label:"Tier",value:(null==e?void 0:e.isPro)?"Platinum":"FREE",color:(null==e?void 0:e.isPro)?"text-yellow-600 bg-yellow-500/10":"text-blue-500 bg-blue-500/10"},{icon:(0,s.jsx)(j.A,{className:"w-4 h-4 text-orange-500"}),label:"Streak",value:"number"==typeof e.streakCount?e.streakCount:0,color:"text-orange-500 bg-orange-500/10"}]:[{icon:(0,s.jsx)(N.A,{className:"w-4 h-4 text-blue-500"}),label:"Community",value:"1.7K+",color:"text-blue-500 bg-blue-500/5"},{icon:(0,s.jsx)(p.A,{className:"w-4 h-4 text-purple-500"}),label:"AI Solved",value:"8.2K+",color:"text-purple-500 bg-purple-500/5"},{icon:(0,s.jsx)(y.A,{className:"w-4 h-4 text-pink-500"}),label:"Curated Items",value:"3.5K+",color:"text-pink-500 bg-pink-500/5"},{icon:(0,s.jsx)(f.A,{className:"w-4 h-4 text-yellow-500"}),label:"Board Ready",value:"82%",color:"text-yellow-500 bg-yellow-500/5"}];return(0,s.jsxs)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.2},className:"min-h-screen bg-background text-foreground font-body transition-all duration-300",children:[(0,s.jsx)(eB.l,{}),(0,s.jsx)(eq,{isOpen:ae,onClose:()=>aa(!1),rank:at,reward:ar}),(0,s.jsx)(eO,{open:eD,onClose:()=>eQ(!1),onUnlock:()=>{eY(!0),setTimeout(()=>{W("results")},300)},questionsCount:K.length,correctAnswers:Object.values(Q).filter((e,a)=>{let t=K[a];return t&&e===t.correctAnswer}).length,timeSpent:et}),(0,s.jsx)(m.lG,{open:em,onOpenChange:eu,children:(0,s.jsxs)(m.Cf,{className:"rounded-[2.5rem] bg-card border-none shadow-[0_20px_50px_rgba(0,0,0,0.2)] p-0 max-w-sm z-[1001] outline-none overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-emerald-500/10 p-10 flex flex-col items-center text-center relative",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-card rounded-[2rem] flex items-center justify-center shadow-xl mb-4 relative z-10",children:(0,s.jsx)(v.A,{className:"w-10 h-10 text-emerald-500"})}),(0,s.jsxs)("div",{className:"space-y-1 relative z-10",children:[(0,s.jsx)(m.L3,{className:"text-2xl font-black tracking-tight",children:"Verified Access"}),(0,s.jsx)(m.rr,{className:"text-muted-foreground font-bold text-[10px] uppercase tracking-widest",children:"Professional Credentials Required"})]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-500/5 to-transparent z-0"})]}),(0,s.jsxs)("div",{className:"p-8 space-y-6 bg-card",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-center text-sm font-medium text-muted-foreground leading-relaxed",children:"Sign in to track your board readiness, maintain streaks, and sync across devices."}),(0,s.jsxs)("div",{className:"grid gap-3 pt-2",children:[(0,s.jsxs)(i.$,{onClick:async()=>{await D(),eu(!1)},className:"h-14 rounded-2xl font-black gap-3 shadow-xl bg-white text-black border border-border hover:bg-muted transition-all active:scale-95",children:[(0,s.jsx)(eW,{}),(0,s.jsx)("span",{children:"Continue with Google"})]}),(0,s.jsxs)(i.$,{onClick:async()=>{await G(),eu(!1)},className:"h-14 rounded-2xl font-black gap-3 shadow-xl bg-[#1877F2] text-white hover:bg-[#1877F2]/90 border-none transition-all active:scale-95",children:[(0,s.jsx)(w.A,{className:"w-5 h-5 fill-current text-white"}),(0,s.jsx)("span",{children:"Continue with Facebook"})]})]})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-border/50 text-center",children:(0,s.jsx)(c.E,{variant:"outline",className:"font-black text-[9px] uppercase tracking-widest border-emerald-500/20 text-emerald-600 bg-emerald-500/5 py-1 px-4",children:"Free Forever Practice Access"})})]})]})}),(0,s.jsx)(m.lG,{open:ei,children:(0,s.jsxs)(m.Cf,{className:"max-w-[320px] border-none shadow-2xl bg-card rounded-[2.5rem] p-10 z-[1001] outline-none",children:[(0,s.jsxs)(m.c7,{className:"sr-only",children:[(0,s.jsx)(m.L3,{children:"Loading Session"}),(0,s.jsx)(m.rr,{children:"Please wait while we calibrate your professional simulation."})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(eJ,{message:eo}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:[(0,s.jsx)("span",{children:"Calibrating Simulation"}),(0,s.jsxs)("span",{children:[ec,"%"]})]}),(0,s.jsx)(d.k,{value:ec,className:"h-2 w-full rounded-full"})]})]})]})}),(0,s.jsx)(Y.N,{mode:"wait",children:"exam"===U?(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full",children:(0,s.jsx)(ea,{questions:K,timePerQuestion:ep,onComplete:e2})},"exam"):"quickfire"===U?(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full",children:(0,s.jsx)(eT,{questions:K,onComplete:e2,onExit:()=>W("dashboard")})},"quickfire"):"results"===U?(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full p-4",children:(0,s.jsx)(eM,{questions:K,answers:Q,timeSpent:et,onRestart:()=>W("dashboard")})},"results"):"quickfire_results"===U?(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full p-4",children:(0,s.jsx)(eG,{questions:K,answers:Q,timeSpent:et,xpEarned:er,onRestart:()=>W("dashboard")})},"quickfire_results"):"onboarding"===U?(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-[85vh] flex items-center justify-center p-4",children:(0,s.jsxs)(n.Zp,{className:"w-full max-w-md rounded-[2.5rem] bg-card border-none shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-primary/10 p-8 flex flex-col items-center text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-card rounded-2xl flex items-center justify-center shadow-lg mb-4",children:(0,s.jsx)(v.A,{className:"w-8 h-8 text-primary"})}),(0,s.jsx)("h2",{className:"text-2xl font-black tracking-tight",children:"Finalizing Profile"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs font-bold uppercase tracking-widest mt-1",children:"Professional Verification"})]}),(0,s.jsxs)(n.Wu,{className:"p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground ml-1",children:"Leaderboard Nickname"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(k.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,s.jsx)(o.p,{placeholder:"e.g. Master Teacher",className:"pl-11 h-12 rounded-xl border-2 font-medium",value:e3,onChange:e=>e4(e.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x.J,{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground ml-1",children:"Majorship Track"}),(0,s.jsxs)(e$.l6,{value:e6,onValueChange:e8,children:[(0,s.jsx)(e$.bq,{className:"h-12 rounded-xl border-2 px-4 font-bold",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 text-muted-foreground"}),(0,s.jsx)(e$.yv,{placeholder:"Select track..."})]})}),(0,s.jsx)(e$.gC,{className:"rounded-xl",children:eV.xY.map(e=>(0,s.jsx)(e$.eb,{value:e,className:"font-medium py-3",children:e},e))})]})]})]}),(0,s.jsxs)(i.$,{onClick:ai,disabled:e9||!e3||!e6,className:"w-full h-14 rounded-2xl font-black text-lg shadow-xl shadow-primary/30",children:[e9?(0,s.jsx)(A.A,{className:"w-5 h-5 animate-spin"}):(0,s.jsx)(h.A,{className:"w-5 h-5 fill-current"})," Enter Learning Vault"]})]})]})},"onboarding"):(0,s.jsxs)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-7xl mx-auto px-4 pt-4 pb-8 space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:ac.map((e,a)=>(0,s.jsxs)("div",{className:"android-surface rounded-2xl p-3 flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,O.cn)("w-8 h-8 rounded-xl flex items-center justify-center shrink-0",e.color),children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest leading-none mb-1",children:e.label}),(0,s.jsx)("p",{className:"text-lg font-black text-foreground leading-none",children:e.value})]})]},a))}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-8 space-y-6",children:[e&&(0,s.jsxs)(n.Zp,{className:"border-none shadow-sm rounded-[2rem] bg-card overflow-hidden",children:[(0,s.jsx)(n.aR,{className:"p-6 pb-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] text-primary",children:"Career Status"}),(0,s.jsxs)(n.ZB,{className:"text-xl font-black flex items-center gap-2",children:[null==e0?void 0:e0.title,(0,s.jsxs)("span",{className:"text-xs font-bold text-muted-foreground ml-1",children:["Rank ",null==e0?void 0:e0.rank]})]})]}),(0,s.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,s.jsx)(f.A,{className:"w-5 h-5 text-primary"})})]})}),(0,s.jsxs)(n.Wu,{className:"p-6 pt-0 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-[10px] font-bold uppercase tracking-wider",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:[(null==e0?void 0:e0.xpInRank)||0," XP"]}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:[null==e0?void 0:e0.nextRankXp," XP"]})]}),(0,s.jsx)(d.k,{value:null==e0?void 0:e0.progress,className:"h-2 rounded-full"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[(0,s.jsxs)(i.$,{onClick:e5,disabled:ek||eN>0,variant:"outline",className:"h-12 rounded-xl font-bold text-xs gap-2 border-primary/20 hover:bg-primary/5",children:[ek?(0,s.jsx)(A.A,{className:"w-4 h-4 animate-spin"}):eN>0?(0,s.jsx)(C.A,{className:"w-4 h-4"}):(0,s.jsx)(S.A,{className:"w-4 h-4 fill-current"}),eN>0?an(eN):"XP Boost Clip"]}),(0,s.jsxs)(i.$,{onClick:()=>e1("quickfire"),disabled:ev>0,variant:"default",className:"h-12 rounded-xl font-bold text-xs gap-2 shadow-lg shadow-primary/20",children:[ev>0?(0,s.jsx)(C.A,{className:"w-4 h-4"}):(0,s.jsx)(P.A,{className:"w-4 h-4"}),ev>0?an(ev):"Brain Teaser"]})]})]})]}),(0,s.jsxs)(n.Zp,{className:"overflow-hidden border-none shadow-xl rounded-[2.5rem] bg-gradient-to-br from-primary/20 via-card to-background relative p-8 md:p-12",children:[(0,s.jsxs)("div",{className:"relative z-10 space-y-6",children:[(0,s.jsx)(c.E,{variant:"secondary",className:"font-bold text-[10px] uppercase px-4 py-1 bg-primary/20 text-primary border-none",children:"Free Forever Practice"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h1",{className:"text-4xl md:text-6xl font-black tracking-tight leading-[1.1] text-foreground",children:["Prepare for the ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-primary italic",children:"Board Exam."})]}),(0,s.jsx)("p",{className:"text-muted-foreground font-medium md:text-xl max-w-lg",children:"High-fidelity simulations with AI pedagogical analysis tailored for Filipino educators."})]}),(0,s.jsxs)(i.$,{size:"lg",disabled:ei,onClick:()=>e1("all"),className:"h-14 md:h-16 px-8 md:px-12 rounded-2xl font-black text-base md:text-lg gap-3 shadow-2xl shadow-primary/30 hover:scale-[1.02] transition-all group",children:[(0,s.jsx)(h.A,{className:"w-6 h-6 fill-current"})," ",(0,s.jsx)("span",{children:"Launch Full Battle"})," ",(0,s.jsx)(E.A,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full -translate-y-1/2 translate-x-1/3"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-black tracking-tight px-2 flex items-center gap-2",children:[(0,s.jsx)(I.A,{className:"w-5 h-5 text-primary"})," Training Grounds"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"General Education",name:"Gen Ed",icon:(0,s.jsx)(z.A,{}),color:"text-blue-500",bg:"bg-blue-500/10",desc:"Core Knowledge",rnk:ez.z3.GENERAL_ED,title:(0,ez.H8)(ez.z3.GENERAL_ED)},{id:"Professional Education",name:"Prof Ed",icon:(0,s.jsx)(u.A,{}),color:"text-purple-500",bg:"bg-purple-500/10",desc:"Teaching Strategy",rnk:ez.z3.PROFESSIONAL_ED,title:(0,ez.H8)(ez.z3.PROFESSIONAL_ED)},{id:"Specialization",name:(null==e?void 0:e.majorship)||"Major",icon:(0,s.jsx)(R.A,{}),color:"text-emerald-500",bg:"bg-emerald-500/10",desc:"Subject Mastery",rnk:ez.z3.SPECIALIZATION,title:(0,ez.H8)(ez.z3.SPECIALIZATION)}].map((a,t)=>{let r=e&&!(0,ez.b3)((null==e0?void 0:e0.rank)||1,a.id,e.unlockedTracks);return(0,s.jsxs)(n.Zp,{onClick:()=>!r&&e1(a.id),className:(0,O.cn)("group cursor-pointer border-2 transition-all rounded-[2rem] bg-card overflow-hidden active:scale-95 relative",r?"border-muted opacity-60":"border-border/50 hover:border-primary"),children:[r&&(0,s.jsx)("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-center bg-background/40 backdrop-blur-[1px] p-4 text-center",children:(0,s.jsxs)("div",{className:"bg-card/90 p-2 rounded-xl border shadow-sm flex flex-col items-center",children:[(0,s.jsx)(M.A,{className:"w-4 h-4 text-muted-foreground mb-1"}),(0,s.jsxs)("span",{className:"text-[8px] font-black uppercase text-muted-foreground leading-tight",children:["Rank ",a.rnk," ",(0,s.jsx)("br",{}),"(",a.title,")"]})]})}),(0,s.jsxs)(n.Wu,{className:"p-6 space-y-4",children:[(0,s.jsx)("div",{className:(0,O.cn)("w-12 h-12 rounded-2xl flex items-center justify-center shadow-sm",a.bg,a.color),children:a.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-black text-lg text-foreground",children:a.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:a.desc})]})]})]},t)})})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-4 space-y-6",children:[(0,s.jsx)(n.Zp,{className:"border-none shadow-xl rounded-[2.25rem] bg-gradient-to-br from-emerald-500/20 via-card to-background p-6 overflow-hidden",children:(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-2xl flex items-center justify-center",children:(0,s.jsx)(F.A,{className:"w-6 h-6 text-emerald-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-black text-lg text-foreground",children:"Get Mobile App"}),(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Study anywhere"})]})]}),(0,s.jsx)(c.E,{variant:"outline",className:"font-black text-[9px] border-emerald-500/30 text-emerald-600 bg-emerald-500/5 uppercase",children:(null==eC?void 0:eC.version)?"v".concat(eC.version):"Official APK"})]}),(0,s.jsx)("div",{className:"flex flex-col items-center justify-center p-5 bg-white rounded-3xl border-2 border-dashed border-emerald-500/20 relative group overflow-hidden",children:(0,s.jsx)(Y.N,{mode:"wait",children:eL?(0,s.jsx)(ee.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-32 h-32 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-full h-full bg-emerald-50/50 animate-pulse rounded-xl flex items-center justify-center",children:(0,s.jsx)(A.A,{className:"w-6 h-6 text-emerald-300 animate-spin"})})},"loader"):eR?(0,s.jsxs)(ee.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",damping:15,stiffness:200},className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-emerald-500/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-3xl"}),(0,s.jsx)("div",{className:"w-32 h-32 relative z-10 bg-white p-1 rounded-xl shadow-sm border border-emerald-100",children:(0,s.jsx)("img",{src:eR,alt:"Download QR Code",className:"w-full h-full object-contain"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-3 text-emerald-600 relative z-10",children:[(0,s.jsx)(T.A,{className:"w-3.5 h-3.5"}),(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Scan to Download"})]})]},"qr"):null})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(i.$,{onClick:()=>{let e=(0,eU.y_)(),a=document.createElement("a");a.href=e,a.download="letpractice-app.apk",document.body.appendChild(a),a.click(),document.body.removeChild(a),Z({title:"Starting Download",description:"Your professional mobile tool is being prepared."})},className:"w-full h-14 rounded-2xl font-black gap-3 bg-emerald-500 hover:bg-emerald-600 text-white shadow-xl shadow-emerald-500/30 transition-all hover:scale-[1.02] active:scale-95",children:[(0,s.jsx)(L.A,{className:"w-5 h-5"}),"Direct Download"]}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 text-[9px] font-bold text-muted-foreground uppercase tracking-widest opacity-60",children:[(0,s.jsx)(v.A,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"Verified Professional Installer"})]})]})]})}),(0,s.jsxs)(n.Zp,{className:"border-none shadow-xl rounded-[2.25rem] bg-foreground text-background p-8 relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-transparent opacity-0 group-hover:opacity-10 transition-opacity duration-500"}),(0,s.jsx)(n.aR,{className:"p-0 mb-6",children:(0,s.jsxs)(n.ZB,{className:"text-xl font-black tracking-tight flex items-center gap-3",children:[(0,s.jsx)(v.A,{className:"w-6 h-6 text-primary"})," Verified Hub"]})}),(0,s.jsxs)(n.Wu,{className:"p-0 space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-4xl font-black text-primary",children:"3.5K+"}),(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Curated Items"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-4xl font-black text-secondary",children:"82%"}),(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Board Readiness"})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-4xl font-black text-blue-400",children:"100%"}),(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Free Access"})]})]})]})]})]})]},"dashboard")})]})}function eX(){return(0,s.jsx)(r.Suspense,{fallback:null,children:(0,s.jsx)(eQ,{})})}},65142:(e,a,t)=>{"use strict";t.d(a,{p:()=>i});var s=t(95155),r=t(12115),l=t(64269);let i=r.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});i.displayName="Input"},76444:(e,a,t)=>{"use strict";t.d(a,{J:()=>d});var s=t(95155),r=t(12115),l=t(10489),i=t(83101),n=t(64269);let c=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.b,{ref:a,className:(0,n.cn)(c(),t),...r})});d.displayName=l.b.displayName},80991:(e,a,t)=>{"use strict";t.d(a,{k:()=>n});var s=t(95155),r=t(12115),l=t(9484),i=t(64269);let n=r.forwardRef((e,a)=>{let{className:t,value:r,...n}=e;return(0,s.jsx)(l.bL,{ref:a,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:(0,s.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});n.displayName=l.bL.displayName}},e=>{e.O(0,[992,644,594,243,585,33,920,640,8,982,609,332,441,493,358],()=>e(e.s=24301)),_N_E=e.O()}]);