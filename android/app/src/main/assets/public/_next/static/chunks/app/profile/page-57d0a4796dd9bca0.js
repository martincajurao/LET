(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{7870:(e,a,s)=>{"use strict";s.d(a,{H4:()=>N,_V:()=>j,bL:()=>b});var t=s(12115),r=s(3468),l=s(70222),n=s(4129),i=s(88142),d=s(95155),o="Avatar",[c,m]=(0,r.A)(o),[u,x]=c(o),p=t.forwardRef((e,a)=>{let{__scopeAvatar:s,...r}=e,[l,n]=t.useState("idle");return(0,d.jsx)(u,{scope:s,imageLoadingStatus:l,onImageLoadingStatusChange:n,children:(0,d.jsx)(i.sG.span,{...r,ref:a})})});p.displayName=o;var h="AvatarImage",f=t.forwardRef((e,a)=>{let{__scopeAvatar:s,src:r,onLoadingStatusChange:o=()=>{},...c}=e,m=x(h,s),u=function(e,a){let[s,r]=t.useState("idle");return(0,n.N)(()=>{if(!e)return void r("error");let s=!0,t=new window.Image,l=e=>()=>{s&&r(e)};return r("loading"),t.onload=l("loaded"),t.onerror=l("error"),t.src=e,a&&(t.referrerPolicy=a),()=>{s=!1}},[e,a]),s}(r,c.referrerPolicy),p=(0,l.c)(e=>{o(e),m.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==u&&p(u)},[u,p]),"loaded"===u?(0,d.jsx)(i.sG.img,{...c,ref:a,src:r}):null});f.displayName=h;var g="AvatarFallback",v=t.forwardRef((e,a)=>{let{__scopeAvatar:s,delayMs:r,...l}=e,n=x(g,s),[o,c]=t.useState(void 0===r);return t.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&"loaded"!==n.imageLoadingStatus?(0,d.jsx)(i.sG.span,{...l,ref:a}):null});v.displayName=g;var b=p,j=f,N=v},9484:(e,a,s)=>{"use strict";s.d(a,{C1:()=>N,bL:()=>j});var t=s(12115),r=s(3468),l=s(88142),n=s(95155),i="Progress",[d,o]=(0,r.A)(i),[c,m]=d(i),u=t.forwardRef((e,a)=>{var s,t,r,i;let{__scopeProgress:d,value:o=null,max:m,getValueLabel:u=h,...x}=e;(m||0===m)&&!v(m)&&console.error((s="".concat(m),t="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(t,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let p=v(m)?m:100;null===o||b(o,p)||console.error((r="".concat(o),i="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=b(o,p)?o:null,N=g(j)?u(j,p):void 0;return(0,n.jsx)(c,{scope:d,value:j,max:p,children:(0,n.jsx)(l.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":g(j)?j:void 0,"aria-valuetext":N,role:"progressbar","data-state":f(j,p),"data-value":null!=j?j:void 0,"data-max":p,...x,ref:a})})});u.displayName=i;var x="ProgressIndicator",p=t.forwardRef((e,a)=>{var s;let{__scopeProgress:t,...r}=e,i=m(x,t);return(0,n.jsx)(l.sG.div,{"data-state":f(i.value,i.max),"data-value":null!=(s=i.value)?s:void 0,"data-max":i.max,...r,ref:a})});function h(e,a){return"".concat(Math.round(e/a*100),"%")}function f(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function g(e){return"number"==typeof e}function v(e){return g(e)&&!isNaN(e)&&e>0}function b(e,a){return g(e)&&!isNaN(e)&&e<=a&&e>=0}p.displayName=x;var j=u,N=p},13406:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>i});var t=s(95155),r=s(12115),l=s(25667),n=s(64269);let i=l.bL,d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.B8,{ref:a,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=l.B8.displayName;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.l9,{ref:a,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=l.l9.displayName;let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.UC,{ref:a,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=l.UC.displayName},20212:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(14294).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},49258:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>Y});var t=s(95155),r=s(12115),l=s(67558),n=s(3998),i=s(86948),d=s(76444),o=s(85897),c=s(11186),m=s(11647),u=s(54541),x=s(92033),p=s(19201),h=s(36204),f=s(36419),g=s(14294);let v=(0,g.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var b=s(47940),j=s(59915),N=s(20212),w=s(91480),y=s(6943),k=s(45444);let A=(0,g.A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var S=s(42770),E=s(52619),R=s.n(E),U=s(20063),L=s(15894),M=s(18516),P=s(13406),C=s(19708),I=s(71330),G=s(64269),F=s(26991),H=s(98128),V=s(47734),_=s(73697),B=s(16533),T=s(69386),W=s(91126),D=s(50572),z=s(80991),$=s(50984),K=s(78770),q=s(66065),O=s(53489),X=s(13381);let Z=async()=>{try{let e=await fetch("https://api.github.com/repos/".concat("martincajurao","/").concat("LET","/releases/latest"));if(!e.ok)throw Error("GitHub API error: ".concat(e.status));let a=await e.json(),s=a.assets.find(e=>e.name.toLowerCase().endsWith(".apk"));if(!s)throw Error("No APK asset found in latest release");return{version:a.tag_name.replace(/^v/,""),downloadURL:s.browser_download_url,sha256:"",releaseNotes:a.body||"New version available"}}catch(e){return console.error("Failed to fetch latest release:",e),null}};function J(){let e=(0,D.KR)(),{downloadUpdate:a,updateProgress:s,updateStatus:l,setUpdateStatus:d}=(0,D.PM)(),[o,c]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)("1.0.0"),[g,v]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),N=(0,r.useCallback)(async()=>{p(!0),v(null),d("");try{console.log("[SelfUpdate] Fetching latest release from GitHub API");let e=await Z();if(!e)throw Error("Failed to fetch latest release from GitHub");let a={version:e.version,downloadURL:e.downloadURL,sha256:e.sha256,message:e.releaseNotes};if(console.log("[SelfUpdate] GitHub release:",a),c(a),h){let e=a.version.toString().replace(/^/,""),s=h.toString().replace(/^/,""),t=e!==s;j(t),t?d("Update available: v".concat(a.version)):d("You have the latest version")}}catch(e){v((null==e?void 0:e.message)||"Failed to check for updates"),console.error("[SelfUpdate] Error:",e)}finally{p(!1)}},[h]);if((0,r.useEffect)(()=>{(async()=>{try{var e;let a=window;if(a.appVersion){console.log("[SelfUpdate] App version from native:",a.appVersion),f(a.appVersion);return}let s=(null==(e=document.querySelector('meta[name="app-version"]'))?void 0:e.getAttribute("content"))||"1.0.0";console.log("[SelfUpdate] App version from meta/default:",s),f(s)}catch(e){console.log("[SelfUpdate] Could not get app version:",e),f("1.0.0")}})()},[]),(0,r.useEffect)(()=>{e&&N()},[e,N]),(0,r.useEffect)(()=>{if(l.includes("success")&&(null==o?void 0:o.version)){console.log("[SelfUpdate] Update successful, updating app version to:",o.version),f(o.version);let e=window;e&&(e.appVersion=o.version)}},[l,null==o?void 0:o.version]),!e)return null;let w=s>0&&s<100,y=l.includes("success"),k=l.includes("error")||g;return(0,t.jsxs)(i.Zp,{className:"android-surface rounded-[2rem] border-none shadow-xl overflow-hidden",children:[(0,t.jsx)(i.aR,{className:"p-6 border-b bg-muted/30",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,t.jsx)(S.A,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.ZB,{className:"text-lg font-black tracking-tight",children:"App Update"}),(0,t.jsx)(i.BT,{className:"text-[10px] font-bold uppercase tracking-widest",children:"Native Android Client"})]})]}),(0,t.jsxs)(m.E,{variant:"outline",className:"font-black text-[10px] uppercase tracking-wider",children:["v",h]})]})}),(0,t.jsxs)(i.Wu,{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/20 rounded-2xl border border-border/50",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase text-muted-foreground tracking-widest",children:"Server Version"}),u?(0,t.jsx)(x.A,{className:"w-4 h-4 animate-spin text-primary"}):(null==o?void 0:o.version)?(0,t.jsxs)("p",{className:"font-black text-lg",children:["v",o.version]}):(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium",children:"Not available"})]}),b&&!u&&(0,t.jsx)(m.E,{className:"bg-emerald-500/10 text-emerald-600 border-emerald-500/20 font-black text-[10px] uppercase",children:"Update Available"}),!b&&!u&&(null==o?void 0:o.version)&&(0,t.jsx)(m.E,{variant:"outline",className:"font-bold text-[10px] uppercase border-primary/20",children:"Up to Date"}),!b&&!u&&!(null==o?void 0:o.version)&&(0,t.jsx)(m.E,{variant:"outline",className:"font-bold text-[10px] uppercase border-muted-foreground/30 text-muted-foreground",children:"No Server Update"})]}),w&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-[10px] font-black uppercase tracking-widest text-muted-foreground",children:[(0,t.jsx)("span",{children:"Download Progress"}),(0,t.jsxs)("span",{children:[s,"%"]})]}),(0,t.jsx)(z.k,{value:s,className:"h-2"})]}),l&&(0,t.jsxs)("div",{className:"p-4 rounded-2xl flex items-start gap-3 ".concat(y?"bg-emerald-500/10 border border-emerald-500/20":k?"bg-rose-500/10 border border-rose-500/20":"bg-primary/5 border border-primary/10"),children:[y?(0,t.jsx)($.A,{className:"w-5 h-5 text-emerald-600 shrink-0 mt-0.5"}):k?(0,t.jsx)(K.A,{className:"w-5 h-5 text-rose-600 shrink-0 mt-0.5"}):(0,t.jsx)(x.A,{className:"w-5 h-5 text-primary shrink-0 mt-0.5 animate-spin"}),(0,t.jsx)("p",{className:"text-sm font-medium ".concat(y?"text-emerald-700":k?"text-rose-700":"text-foreground"),children:l})]}),g&&!l&&(0,t.jsxs)("div",{className:"p-4 rounded-2xl bg-rose-500/10 border border-rose-500/20 flex items-start gap-3",children:[(0,t.jsx)(K.A,{className:"w-5 h-5 text-rose-600 shrink-0 mt-0.5"}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)("p",{className:"text-sm font-medium text-rose-700",children:g})})]}),(0,t.jsxs)("div",{className:"p-4 rounded-2xl bg-blue-500/10 border border-blue-500/20 flex items-start gap-3",children:[(0,t.jsx)(q.A,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-700",children:"GitHub API Mode"}),(0,t.jsx)("p",{className:"text-xs text-blue-600/80",children:"Update version is fetched from GitHub Releases API. SHA256 verification is skipped."})]})]}),(null==o?void 0:o.fileName)&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(O.A,{className:"w-3.5 h-3.5"})," ",o.fileName]}),o.fileSize&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-1 h-1 bg-border rounded-full"}),(0,t.jsxs)("span",{children:[(o.fileSize/1024/1024).toFixed(2)," MB"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[b&&(null==o?void 0:o.downloadURL)&&(0,t.jsxs)(n.$,{onClick:()=>{console.log("[SelfUpdate] Starting download:",null==o?void 0:o.downloadURL);let e=null==o?void 0:o.downloadURL;if(!e&&(null==o?void 0:o.fileId)&&(e="https://drive.google.com/uc?export=download&id=".concat(o.fileId)),!e){let a=window;(null==a?void 0:a.android)&&(e="https://us-central1-letpractice.cloudfunctions.net/download")}e?a(e,(null==o?void 0:o.sha256)||""):v("No download URL available. Please contact support.")},disabled:w,className:"w-full h-14 rounded-2xl font-black text-base gap-2 shadow-lg shadow-primary/20",children:[w?(0,t.jsx)(x.A,{className:"w-5 h-5 animate-spin"}):(0,t.jsx)(O.A,{className:"w-5 h-5"}),w?"Downloading...":"Download & Install Update"]}),(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>{N()},disabled:u||w,className:"w-full h-12 rounded-2xl font-bold gap-2 border-2",children:[u?(0,t.jsx)(x.A,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(X.A,{className:"w-4 h-4"}),u?"Checking...":"Check for Updates"]})]}),(0,t.jsx)("p",{className:"text-[9px] font-medium text-muted-foreground text-center leading-relaxed",children:"Updates are downloaded directly from GitHub Releases. The app will prompt for installation after download."})]})]})}function Q(){var e;let{user:a,loading:s,updateProfile:g,logout:E}=(0,l.useUser)(),D=(0,l.useFirestore)(),{toast:z}=(0,L.dj)(),$=(0,U.useSearchParams)(),[K,q]=(0,r.useState)((null==a?void 0:a.majorship)||""),[O,X]=(0,r.useState)([]),[Z,Q]=(0,r.useState)(!0),Y=$.get("tab")||"history",ee=(0,r.useMemo)(()=>a?(0,W.zz)(a.xp||0):null,[null==a?void 0:a.xp]);(0,r.useEffect)(()=>{(null==a?void 0:a.majorship)&&q(a.majorship)},[a]),(0,r.useEffect)(()=>{(async()=>{if((null==a?void 0:a.uid)&&D)try{let e=(0,C.P)((0,C.rJ)(D,"exam_results"),(0,C._M)("userId","==",a.uid),(0,C.My)("timestamp","desc"),(0,C.AB)(20)),s=await (0,C.GG)(e);X(s.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error(e)}finally{Q(!1)}})()},[a,D]);let ea=(0,r.useMemo)(()=>({total:O.length,avg:O.length>0?Math.round(O.reduce((e,a)=>e+a.overallScore,0)/O.length):0,best:O.length>0?Math.max(...O.map(e=>e.overallScore)):0,readiness:Math.min(100,3*O.length+(O.length>0?Math.max(...O.map(e=>e.overallScore)):0)/1.5)}),[O]),es=(0,r.useMemo)(()=>{let e={};return O.forEach(a=>{var s;return null==(s=a.subjectBreakdown)?void 0:s.forEach(a=>{e[a.subjectName]||(e[a.subjectName]={t:0,c:0}),e[a.subjectName].t+=a.totalQuestions,e[a.subjectName].c+=a.correctAnswers})}),Object.entries(e).map(e=>{let[a,s]=e;return{name:a,score:Math.round(s.c/(s.t||1)*100)}})},[O]);return s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsx)(x.A,{className:"w-8 h-8 animate-spin text-primary"})}):a?(0,t.jsxs)("div",{className:"min-h-screen bg-background p-4 md:p-8 font-body",children:[(0,t.jsx)(M.l,{}),(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-24",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(R(),{href:"/",children:(0,t.jsxs)(n.$,{variant:"ghost",size:"sm",className:"gap-2 font-bold text-muted-foreground",children:[(0,t.jsx)(h.A,{className:"w-4 h-4"})," Dashboard"]})}),(0,t.jsx)(m.E,{variant:"outline",className:"bg-card px-4 py-1.5 rounded-full font-bold text-[10px] uppercase tracking-widest",children:(0,I.GP)(new Date,"EEEE, MMM do")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,t.jsxs)(i.Zp,{className:"lg:col-span-8 border-none shadow-xl rounded-[2.5rem] bg-card overflow-hidden",children:[(0,t.jsx)("div",{className:"h-32 bg-gradient-to-br from-primary/20 via-primary/5 to-card"}),(0,t.jsxs)(i.Wu,{className:"px-8 pb-8 -mt-16 relative",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-6 mb-8",children:[(0,t.jsxs)(o.eu,{className:"w-32 h-32 border-[6px] border-card shadow-xl rounded-[2.5rem]",children:[(0,t.jsx)(o.BK,{src:a.photoURL||""}),(0,t.jsx)(o.q5,{className:"text-4xl font-black bg-muted",children:null==(e=a.displayName)?void 0:e.charAt(0)})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-2 mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-3xl font-black tracking-tight",children:a.displayName}),a.isPro&&(0,t.jsx)("div",{className:"w-8 h-8 bg-yellow-400 rounded-xl flex items-center justify-center shadow-lg shadow-yellow-400/20",children:(0,t.jsx)(f.A,{className:"w-4 h-4 text-yellow-900"})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)(m.E,{variant:"outline",className:"h-6 px-3 font-black text-[10px] border-primary/20 text-primary bg-primary/5 rounded-lg uppercase tracking-wider",children:[null==ee?void 0:ee.title," (Rank ",null==ee?void 0:ee.rank,")"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground font-medium flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(v,{className:"w-3.5 h-3.5 opacity-40"})," ",a.email]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(b.A,{className:"w-3.5 h-3.5 opacity-40"})," ",a.majorship]})]})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{icon:(0,t.jsx)(j.A,{className:"w-4 h-4"}),label:"Sessions",value:ea.total},{icon:(0,t.jsx)(N.A,{className:"w-4 h-4 text-primary"}),label:"Avg Accuracy",value:"".concat(ea.avg,"%")},{icon:(0,t.jsx)(f.A,{className:"w-4 h-4 text-yellow-500"}),label:"Best Track",value:"".concat(ea.best,"%")},{icon:(0,t.jsx)(w.A,{className:"w-4 h-4 text-emerald-500"}),label:"Rank ".concat((null==ee?void 0:ee.rank)||1),value:"".concat((null==ee?void 0:ee.xpInRank)||0,"/").concat(null==ee?void 0:ee.nextRankXp," XP")}].map((e,a)=>(0,t.jsxs)("div",{className:"p-4 bg-muted/20 rounded-2xl border border-border/50 text-center space-y-1",children:[(0,t.jsx)("div",{className:"flex justify-center mb-1",children:e.icon}),(0,t.jsx)("p",{className:"text-sm font-black leading-none line-clamp-1",children:e.value}),(0,t.jsx)("p",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest",children:e.label})]},a))})]})]}),(0,t.jsxs)(i.Zp,{className:"lg:col-span-4 border-none shadow-xl rounded-[2.5rem] bg-foreground text-background flex flex-col items-center justify-center p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-black tracking-tight mb-1",children:"Board Readiness"}),(0,t.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Verified Performance Projection"})]}),(0,t.jsxs)("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"w-full h-full -rotate-90",children:[(0,t.jsx)("circle",{cx:"80",cy:"80",r:"70",className:"stroke-white/10 fill-none",strokeWidth:"10"}),(0,t.jsx)("circle",{cx:"80",cy:"80",r:"70",className:"stroke-primary fill-none transition-all duration-1000",strokeWidth:"10",strokeDasharray:"".concat(ea.readiness/100*440," 440"),strokeLinecap:"round"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,t.jsxs)("span",{className:"text-4xl font-black",children:[Math.round(ea.readiness),"%"]}),(0,t.jsx)("span",{className:"text-[8px] font-bold uppercase tracking-[0.2em] opacity-60",children:"Ready"})]})]}),(0,t.jsx)(n.$,{className:"w-full h-12 rounded-2xl font-black bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/20",children:"Analyze Weaknesses"})]})]}),(0,t.jsxs)(P.tU,{defaultValue:Y,className:"space-y-6",children:[(0,t.jsxs)(P.j7,{className:"bg-muted/30 p-1 rounded-2xl w-full grid grid-cols-3 h-14",children:[(0,t.jsxs)(P.Xi,{value:"history",className:"font-bold rounded-xl gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[(0,t.jsx)(j.A,{className:"w-4 h-4"})," Vault"]}),(0,t.jsxs)(P.Xi,{value:"collaboration",className:"font-bold rounded-xl gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[(0,t.jsx)(y.A,{className:"w-4 h-4"})," Collab"]}),(0,t.jsxs)(P.Xi,{value:"settings",className:"font-bold rounded-xl gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[(0,t.jsx)(k.A,{className:"w-4 h-4"})," Calibration"]})]}),(0,t.jsx)(P.av,{value:"history",className:"space-y-6 animate-in slide-in-from-bottom-4",children:Z?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 bg-muted/10 rounded-[2rem] border-2 border-dashed border-border/50",children:[(0,t.jsx)(x.A,{className:"w-8 h-8 animate-spin text-primary mb-4"}),(0,t.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Accessing Academic Records..."})]}):0===O.length?(0,t.jsxs)("div",{className:"text-center py-20 bg-card rounded-[2rem] border shadow-inner",children:[(0,t.jsx)(A,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-black mb-2",children:"Simulation Vault Empty"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-8",children:"Complete your first session to generate professional insights."}),(0,t.jsx)(R(),{href:"/",children:(0,t.jsx)(n.$,{className:"rounded-2xl font-black h-14 px-10 shadow-lg shadow-primary/20",children:"Launch Full Simulation"})})]}):(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2 space-y-4",children:O.map((e,a)=>(0,t.jsxs)("div",{className:"android-surface p-6 rounded-[2rem] flex items-center justify-between border-none shadow-md hover:shadow-lg transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsxs)("div",{className:(0,G.cn)("w-16 h-16 rounded-2xl flex flex-col items-center justify-center font-black",e.overallScore>=75?"bg-emerald-500/10 text-emerald-600":"bg-orange-500/10 text-orange-600"),children:[(0,t.jsxs)("span",{className:"text-xl leading-none",children:[e.overallScore,"%"]}),(0,t.jsx)("span",{className:"text-[7px] uppercase tracking-widest mt-1 opacity-60",children:"Board"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-black text-lg",children:["Simulation Track #",(O.length-a).toString().padStart(3,"0")]}),(0,t.jsxs)("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:[(0,I.GP)(e.timestamp,"MMMM d, yyyy")," â€¢ ",Math.floor(e.timeSpent/60),"m ",e.timeSpent%60,"s"]})]})]}),(0,t.jsx)(m.E,{variant:"outline",className:(0,G.cn)("rounded-lg font-bold text-[9px] uppercase tracking-widest",e.overallScore>=75?"border-emerald-500/30 text-emerald-600 bg-emerald-500/5":"border-orange-500/30 text-orange-600 bg-orange-500/5"),children:e.overallScore>=75?"Qualified":"Retake Required"})]},e.id))}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)(i.Zp,{className:"border-none shadow-xl rounded-[2rem] bg-card p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-1",children:[(0,t.jsx)("h3",{className:"text-lg font-black tracking-tight",children:"Track Mastery"}),(0,t.jsx)("p",{className:"text-[9px] font-bold text-muted-foreground uppercase tracking-widest",children:"Aggregate Proficiency"})]}),(0,t.jsx)("div",{className:"h-[250px] w-full",children:(0,t.jsx)(F.u,{width:"100%",height:"100%",children:(0,t.jsxs)(H.E,{data:es,layout:"vertical",margin:{left:-20},children:[(0,t.jsx)(V.W,{type:"number",domain:[0,100],hide:!0}),(0,t.jsx)(_.h,{dataKey:"name",type:"category",width:80,style:{fontSize:"8px",fontWeight:"bold",textTransform:"uppercase",fill:"hsl(var(--muted-foreground))"}}),(0,t.jsx)(B.y,{dataKey:"score",radius:[0,10,10,0],barSize:16,children:es.map((e,a)=>(0,t.jsx)(T.f,{fill:e.score>=75?"#10b981":"#a7d9ed"},a))})]})})})]})})]})}),(0,t.jsx)(P.av,{value:"settings",className:"animate-in slide-in-from-bottom-4",children:(0,t.jsx)(i.Zp,{className:"border-none shadow-xl rounded-[2.5rem] overflow-hidden bg-card",children:(0,t.jsxs)(i.Wu,{className:"p-10 space-y-10",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center",children:(0,t.jsx)(b.A,{className:"w-7 h-7 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"Academic Focus"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Calibrate your primary simulation specialization"})]})]}),(0,t.jsxs)("div",{className:"space-y-4 bg-muted/20 p-8 rounded-[2rem] border-2 border-dashed border-border/50",children:[(0,t.jsx)(d.J,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Selected Specialization"}),(0,t.jsxs)(c.l6,{value:K,onValueChange:q,children:[(0,t.jsx)(c.bq,{className:"h-16 rounded-xl font-bold border-border shadow-sm text-lg px-8 bg-card",children:(0,t.jsx)(c.yv,{placeholder:"Select track"})}),(0,t.jsx)(c.gC,{className:"rounded-2xl p-2",children:u.xY.map(e=>(0,t.jsx)(c.eb,{value:e,className:"font-medium py-4 text-base px-6",children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center",children:(0,t.jsx)(S.A,{className:"w-7 h-7 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"App Updates"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Manage native Android client updates"})]})]}),(0,t.jsx)(J,{})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 pt-4 border-t border-border/50",children:[(0,t.jsx)(n.$,{onClick:()=>g({majorship:K}).then(()=>z({title:"Profile Calibrated"})),className:"w-full h-16 rounded-3xl font-black text-xl shadow-xl shadow-primary/30",children:"Save Academic Preferences"}),(0,t.jsx)(n.$,{variant:"ghost",onClick:E,className:"w-full h-14 text-destructive font-bold gap-3 hover:bg-destructive/5 rounded-2xl",children:"Log Out of learning vault"})]})]})})})]})]})]}):(0,t.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:(0,t.jsxs)(i.Zp,{className:"p-10 text-center max-w-sm rounded-[2.5rem] android-surface border-none shadow-2xl",children:[(0,t.jsx)(p.A,{className:"w-12 h-12 text-muted-foreground/20 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"font-black text-xl mb-6",children:"Authentication Required"}),(0,t.jsx)(R(),{href:"/",children:(0,t.jsx)(n.$,{className:"w-full rounded-2xl h-14 font-black",children:"Return Home"})})]})})}let Y=function(){return(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsx)(x.A,{className:"w-8 h-8 animate-spin text-primary"})}),children:(0,t.jsx)(Q,{})})}},50572:(e,a,s)=>{"use strict";s.d(a,{KR:()=>i,PM:()=>d,WebViewBridge:()=>n});var t=s(95155),r=s(12115),l=s(20063);function n(e){let{children:a}=e,s=(0,l.useRouter)(),n=(0,l.usePathname)(),i=(0,r.useRef)(!1),d=(0,r.useCallback)(e=>{try{let a=e.data;if(a&&"ROUTE_CHANGE"===a.type){let e=a.url;e&&e.startsWith("/")&&s.push(e)}if(a&&"DEEP_LINK"===a.type){let e=a.url;if(e){let a=new URL(e).pathname;a&&s.push(a)}}}catch(e){console.error("WebViewBridge: Error handling message:",e)}},[s]);return(0,r.useEffect)(()=>{if(window.addEventListener){window.addEventListener("message",d);let e=()=>{let e=window.location.hash.slice(1);e&&e!==n&&!i.current&&(i.current=!0,s.push(e),setTimeout(()=>{i.current=!1},100))};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("message",d),window.removeEventListener("hashchange",e)}}},[d,s,n]),(0,r.useEffect)(()=>{var e,a;let s=window;if(null==(a=s.Capacitor)||null==(e=a.isNativePlatform)?void 0:e.call(a)){let e=s.Cordova;e&&e.fireDocumentEvent&&e.fireDocumentEvent("routeChange",{path:n,url:window.location.href})}},[n]),(0,t.jsx)(t.Fragment,{children:a})}function i(){let e=window.Capacitor;if(e&&e.isNativePlatform&&e.isNativePlatform()||window.android)return!0;let a=window.webkit;return!!a&&!!a.messageHandlers&&!!a.messageHandlers.nativeReady}function d(){let[e,a]=(0,r.useState)(0),[s,t]=(0,r.useState)("");return(0,r.useEffect)(()=>{let e=e=>{a(e.detail)},s=e=>{let a=JSON.parse(e.detail);t(a.status+": "+a.message)};return window.addEventListener("updateProgress",e),window.addEventListener("updateResult",s),()=>{window.removeEventListener("updateProgress",e),window.removeEventListener("updateResult",s)}},[]),{downloadUpdate:(0,r.useCallback)((e,a)=>{{let s=window.android;s&&s.checkForUpdate?(a&&(a.startsWith("sha256:")||/^[a-fA-F0-9]{64}$/.test(a))?s.checkForUpdate(e,a):s.checkForUpdate(e,""),t("Starting download...")):t("Self-update not available on this platform")}},[]),updateProgress:e,updateStatus:s,setUpdateStatus:t}}},66065:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(14294).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},70066:(e,a,s)=>{Promise.resolve().then(s.bind(s,49258))},76444:(e,a,s)=>{"use strict";s.d(a,{J:()=>o});var t=s(95155),r=s(12115),l=s(10489),n=s(83101),i=s(64269);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,i.cn)(d(),s),...r})});o.displayName=l.b.displayName},80991:(e,a,s)=>{"use strict";s.d(a,{k:()=>i});var t=s(95155),r=s(12115),l=s(9484),n=s(64269);let i=r.forwardRef((e,a)=>{let{className:s,value:r,...i}=e;return(0,t.jsx)(l.bL,{ref:a,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...i,children:(0,t.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});i.displayName=l.bL.displayName},85897:(e,a,s)=>{"use strict";s.d(a,{BK:()=>d,eu:()=>i,q5:()=>o});var t=s(95155),r=s(12115),l=s(7870),n=s(64269);let i=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=l.bL.displayName;let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",s),...r})});d.displayName=l._V.displayName;let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});o.displayName=l.H4.displayName}},e=>{e.O(0,[992,644,594,243,619,585,640,8,94,609,332,441,493,358],()=>e(e.s=70066)),_N_E=e.O()}]);