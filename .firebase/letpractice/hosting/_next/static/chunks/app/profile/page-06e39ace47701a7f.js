(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{7870:(e,a,s)=>{"use strict";s.d(a,{H4:()=>v,_V:()=>N,bL:()=>j});var r=s(12115),t=s(3468),l=s(70222),i=s(4129),d=s(88142),n=s(95155),c="Avatar",[o,m]=(0,t.A)(c),[x,u]=o(c),h=r.forwardRef((e,a)=>{let{__scopeAvatar:s,...t}=e,[l,i]=r.useState("idle");return(0,n.jsx)(x,{scope:s,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,n.jsx)(d.sG.span,{...t,ref:a})})});h.displayName=c;var p="AvatarImage",f=r.forwardRef((e,a)=>{let{__scopeAvatar:s,src:t,onLoadingStatusChange:c=()=>{},...o}=e,m=u(p,s),x=function(e,a){let[s,t]=r.useState("idle");return(0,i.N)(()=>{if(!e)return void t("error");let s=!0,r=new window.Image,l=e=>()=>{s&&t(e)};return t("loading"),r.onload=l("loaded"),r.onerror=l("error"),r.src=e,a&&(r.referrerPolicy=a),()=>{s=!1}},[e,a]),s}(t,o.referrerPolicy),h=(0,l.c)(e=>{c(e),m.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==x&&h(x)},[x,h]),"loaded"===x?(0,n.jsx)(d.sG.img,{...o,ref:a,src:t}):null});f.displayName=p;var g="AvatarFallback",b=r.forwardRef((e,a)=>{let{__scopeAvatar:s,delayMs:t,...l}=e,i=u(g,s),[c,o]=r.useState(void 0===t);return r.useEffect(()=>{if(void 0!==t){let e=window.setTimeout(()=>o(!0),t);return()=>window.clearTimeout(e)}},[t]),c&&"loaded"!==i.imageLoadingStatus?(0,n.jsx)(d.sG.span,{...l,ref:a}):null});b.displayName=g;var j=h,N=f,v=b},13406:(e,a,s)=>{"use strict";s.d(a,{Xi:()=>c,av:()=>o,j7:()=>n,tU:()=>d});var r=s(95155),t=s(12115),l=s(25667),i=s(64269);let d=l.bL,n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.B8,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t})});n.displayName=l.B8.displayName;let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.l9,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t})});c.displayName=l.l9.displayName;let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.UC,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t})});o.displayName=l.UC.displayName},50642:(e,a,s)=>{Promise.resolve().then(s.bind(s,69141))},69141:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>I});var r=s(95155),t=s(12115),l=s(68407),i=s(3998),d=s(86948),n=s(76444),c=s(85897),o=s(11186),m=s(11647),x=s(54541),u=s(92033),h=s(19201),p=s(36204),f=s(36419),g=s(14294);let b=(0,g.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var j=s(47940),N=s(59915),v=s(20212),y=s(91480),w=s(45444);let k=(0,g.A)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var A=s(52619),S=s.n(A),M=s(15894),R=s(18516),E=s(13406),C=s(19708),L=s(71330),P=s(64269),_=s(26991),z=s(98128),B=s(47734),V=s(73697),G=s(16533),W=s(69386),q=s(91126);function I(){var e;let{user:a,loading:s,updateProfile:g,logout:A}=(0,l.useUser)(),I=(0,l.useFirestore)(),{toast:T}=(0,M.dj)(),[U,$]=(0,t.useState)((null==a?void 0:a.majorship)||""),[F,H]=(0,t.useState)([]),[X,Z]=(0,t.useState)(!0),K=(0,t.useMemo)(()=>a?(0,q.zz)(a.xp||0):null,[null==a?void 0:a.xp]);(0,t.useEffect)(()=>{(null==a?void 0:a.majorship)&&$(a.majorship)},[a]),(0,t.useEffect)(()=>{(async()=>{if((null==a?void 0:a.uid)&&I)try{let e=(0,C.P)((0,C.rJ)(I,"exam_results"),(0,C._M)("userId","==",a.uid),(0,C.My)("timestamp","desc"),(0,C.AB)(20)),s=await (0,C.GG)(e);H(s.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error(e)}finally{Z(!1)}})()},[a,I]);let O=(0,t.useMemo)(()=>({total:F.length,avg:F.length>0?Math.round(F.reduce((e,a)=>e+a.overallScore,0)/F.length):0,best:F.length>0?Math.max(...F.map(e=>e.overallScore)):0,readiness:Math.min(100,3*F.length+(F.length>0?Math.max(...F.map(e=>e.overallScore)):0)/1.5)}),[F]),D=(0,t.useMemo)(()=>{let e={};return F.forEach(a=>{var s;return null==(s=a.subjectBreakdown)?void 0:s.forEach(a=>{e[a.subjectName]||(e[a.subjectName]={t:0,c:0}),e[a.subjectName].t+=a.totalQuestions,e[a.subjectName].c+=a.correctAnswers})}),Object.entries(e).map(e=>{let[a,s]=e;return{name:a,score:Math.round(s.c/(s.t||1)*100)}})},[F]);return s?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,r.jsx)(u.A,{className:"w-8 h-8 animate-spin text-primary"})}):a?(0,r.jsxs)("div",{className:"min-h-screen bg-background p-4 md:p-8 font-body",children:[(0,r.jsx)(R.l,{}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 pb-24",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(S(),{href:"/",children:(0,r.jsxs)(i.$,{variant:"ghost",size:"sm",className:"gap-2 font-bold text-muted-foreground",children:[(0,r.jsx)(p.A,{className:"w-4 h-4"})," Dashboard"]})}),(0,r.jsx)(m.E,{variant:"outline",className:"bg-card px-4 py-1.5 rounded-full font-bold text-[10px] uppercase tracking-widest",children:(0,L.GP)(new Date,"EEEE, MMM do")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,r.jsxs)(d.Zp,{className:"lg:col-span-8 border-none shadow-xl rounded-[2.5rem] bg-card overflow-hidden",children:[(0,r.jsx)("div",{className:"h-32 bg-gradient-to-br from-primary/20 via-primary/5 to-card"}),(0,r.jsxs)(d.Wu,{className:"px-8 pb-8 -mt-16 relative",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end gap-6 mb-8",children:[(0,r.jsxs)(c.eu,{className:"w-32 h-32 border-[6px] border-card shadow-xl rounded-[2.5rem]",children:[(0,r.jsx)(c.BK,{src:a.photoURL||""}),(0,r.jsx)(c.q5,{className:"text-4xl font-black bg-muted",children:null==(e=a.displayName)?void 0:e.charAt(0)})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2 mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("h1",{className:"text-3xl font-black tracking-tight",children:a.displayName}),a.isPro&&(0,r.jsx)("div",{className:"w-8 h-8 bg-yellow-400 rounded-xl flex items-center justify-center shadow-lg shadow-yellow-400/20",children:(0,r.jsx)(f.A,{className:"w-4 h-4 text-yellow-900"})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,r.jsxs)(m.E,{variant:"outline",className:"h-6 px-3 font-black text-[10px] border-primary/20 text-primary bg-primary/5 rounded-lg uppercase tracking-wider",children:[null==K?void 0:K.title," (Rank ",null==K?void 0:K.rank,")"]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground font-medium flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(b,{className:"w-3.5 h-3.5 opacity-40"})," ",a.email]}),(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)(j.A,{className:"w-3.5 h-3.5 opacity-40"})," ",a.majorship]})]})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{icon:(0,r.jsx)(N.A,{className:"w-4 h-4"}),label:"Sessions",value:O.total},{icon:(0,r.jsx)(v.A,{className:"w-4 h-4 text-primary"}),label:"Avg Accuracy",value:"".concat(O.avg,"%")},{icon:(0,r.jsx)(f.A,{className:"w-4 h-4 text-yellow-500"}),label:"Best Track",value:"".concat(O.best,"%")},{icon:(0,r.jsx)(y.A,{className:"w-4 h-4 text-emerald-500"}),label:"Rank ".concat((null==K?void 0:K.rank)||1),value:"".concat((null==K?void 0:K.xpInRank)||0,"/").concat(null==K?void 0:K.nextRankXp," XP")}].map((e,a)=>(0,r.jsxs)("div",{className:"p-4 bg-muted/20 rounded-2xl border border-border/50 text-center space-y-1",children:[(0,r.jsx)("div",{className:"flex justify-center mb-1",children:e.icon}),(0,r.jsx)("p",{className:"text-sm font-black leading-none line-clamp-1",children:e.value}),(0,r.jsx)("p",{className:"text-[8px] font-bold text-muted-foreground uppercase tracking-widest",children:e.label})]},a))})]})]}),(0,r.jsxs)(d.Zp,{className:"lg:col-span-4 border-none shadow-xl rounded-[2.5rem] bg-foreground text-background flex flex-col items-center justify-center p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h3",{className:"text-xl font-black tracking-tight mb-1",children:"Board Readiness"}),(0,r.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:"Verified Performance Projection"})]}),(0,r.jsxs)("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"w-full h-full -rotate-90",children:[(0,r.jsx)("circle",{cx:"80",cy:"80",r:"70",className:"stroke-white/10 fill-none",strokeWidth:"10"}),(0,r.jsx)("circle",{cx:"80",cy:"80",r:"70",className:"stroke-primary fill-none transition-all duration-1000",strokeWidth:"10",strokeDasharray:"".concat(O.readiness/100*440," 440"),strokeLinecap:"round"})]}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,r.jsxs)("span",{className:"text-4xl font-black",children:[Math.round(O.readiness),"%"]}),(0,r.jsx)("span",{className:"text-[8px] font-bold uppercase tracking-[0.2em] opacity-60",children:"Ready"})]})]}),(0,r.jsx)(i.$,{className:"w-full h-12 rounded-2xl font-black bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/20",children:"Analyze Weaknesses"})]})]}),(0,r.jsxs)(E.tU,{defaultValue:"history",className:"space-y-6",children:[(0,r.jsxs)(E.j7,{className:"bg-muted/30 p-1 rounded-2xl w-full grid grid-cols-2 h-14",children:[(0,r.jsxs)(E.Xi,{value:"history",className:"font-bold rounded-xl gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[(0,r.jsx)(N.A,{className:"w-4 h-4"})," Vault"]}),(0,r.jsxs)(E.Xi,{value:"settings",className:"font-bold rounded-xl gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[(0,r.jsx)(w.A,{className:"w-4 h-4"})," Calibration"]})]}),(0,r.jsx)(E.av,{value:"history",className:"space-y-6 animate-in slide-in-from-bottom-4",children:X?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 bg-muted/10 rounded-[2rem] border-2 border-dashed border-border/50",children:[(0,r.jsx)(u.A,{className:"w-8 h-8 animate-spin text-primary mb-4"}),(0,r.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Accessing Academic Records..."})]}):0===F.length?(0,r.jsxs)("div",{className:"text-center py-20 bg-card rounded-[2rem] border shadow-inner",children:[(0,r.jsx)(k,{className:"w-16 h-16 text-muted-foreground/20 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-black mb-2",children:"Simulation Vault Empty"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground font-medium mb-8",children:"Complete your first session to generate professional insights."}),(0,r.jsx)(S(),{href:"/",children:(0,r.jsx)(i.$,{className:"rounded-2xl font-black h-14 px-10 shadow-lg shadow-primary/20",children:"Launch Full Simulation"})})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-4",children:F.map((e,a)=>(0,r.jsxs)("div",{className:"android-surface p-6 rounded-[2rem] flex items-center justify-between border-none shadow-md hover:shadow-lg transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[(0,r.jsxs)("div",{className:(0,P.cn)("w-16 h-16 rounded-2xl flex flex-col items-center justify-center font-black",e.overallScore>=75?"bg-emerald-500/10 text-emerald-600":"bg-orange-500/10 text-orange-600"),children:[(0,r.jsxs)("span",{className:"text-xl leading-none",children:[e.overallScore,"%"]}),(0,r.jsx)("span",{className:"text-[7px] uppercase tracking-widest mt-1 opacity-60",children:"Board"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-black text-lg",children:["Simulation Track #",(F.length-a).toString().padStart(3,"0")]}),(0,r.jsxs)("p",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:[(0,L.GP)(e.timestamp,"MMMM d, yyyy")," â€¢ ",Math.floor(e.timeSpent/60),"m ",e.timeSpent%60,"s"]})]})]}),(0,r.jsx)(m.E,{variant:"outline",className:(0,P.cn)("rounded-lg font-bold text-[9px] uppercase tracking-widest",e.overallScore>=75?"border-emerald-500/30 text-emerald-600 bg-emerald-500/5":"border-orange-500/30 text-orange-600 bg-orange-500/5"),children:e.overallScore>=75?"Qualified":"Retake Required"})]},e.id))}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)(d.Zp,{className:"border-none shadow-xl rounded-[2rem] bg-card p-8 space-y-6",children:[(0,r.jsxs)("div",{className:"text-center space-y-1",children:[(0,r.jsx)("h3",{className:"text-lg font-black tracking-tight",children:"Track Mastery"}),(0,r.jsx)("p",{className:"text-[9px] font-bold text-muted-foreground uppercase tracking-widest",children:"Aggregate Proficiency"})]}),(0,r.jsx)("div",{className:"h-[250px] w-full",children:(0,r.jsx)(_.u,{width:"100%",height:"100%",children:(0,r.jsxs)(z.E,{data:D,layout:"vertical",margin:{left:-20},children:[(0,r.jsx)(B.W,{type:"number",domain:[0,100],hide:!0}),(0,r.jsx)(V.h,{dataKey:"name",type:"category",width:80,style:{fontSize:"8px",fontWeight:"bold",textTransform:"uppercase",fill:"hsl(var(--muted-foreground))"}}),(0,r.jsx)(G.y,{dataKey:"score",radius:[0,10,10,0],barSize:16,children:D.map((e,a)=>(0,r.jsx)(W.f,{fill:e.score>=75?"#10b981":"#a7d9ed"},a))})]})})})]})})]})}),(0,r.jsx)(E.av,{value:"settings",className:"animate-in slide-in-from-bottom-4",children:(0,r.jsx)(d.Zp,{className:"border-none shadow-xl rounded-[2.5rem] overflow-hidden bg-card",children:(0,r.jsxs)(d.Wu,{className:"p-10 space-y-10",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-14 h-14 bg-primary/10 rounded-2xl flex items-center justify-center",children:(0,r.jsx)(j.A,{className:"w-7 h-7 text-primary"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:"Academic Focus"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Calibrate your primary simulation specialization"})]})]}),(0,r.jsxs)("div",{className:"space-y-4 bg-muted/20 p-8 rounded-[2rem] border-2 border-dashed border-border/50",children:[(0,r.jsx)(n.J,{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground ml-1",children:"Selected Specialization"}),(0,r.jsxs)(o.l6,{value:U,onValueChange:$,children:[(0,r.jsx)(o.bq,{className:"h-16 rounded-xl font-bold border-border shadow-sm text-lg px-8 bg-card",children:(0,r.jsx)(o.yv,{placeholder:"Select track"})}),(0,r.jsx)(o.gC,{className:"rounded-2xl p-2",children:x.xY.map(e=>(0,r.jsx)(o.eb,{value:e,className:"font-medium py-4 text-base px-6",children:e},e))})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)(i.$,{onClick:()=>g({majorship:U}).then(()=>T({title:"Profile Calibrated"})),className:"w-full h-16 rounded-3xl font-black text-xl shadow-xl shadow-primary/30",children:"Save Academic Preferences"}),(0,r.jsx)(i.$,{variant:"ghost",onClick:A,className:"w-full h-14 text-destructive font-bold gap-3 hover:bg-destructive/5 rounded-2xl",children:"Log Out of learning vault"})]})]})})})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:(0,r.jsxs)(d.Zp,{className:"p-10 text-center max-w-sm rounded-[2.5rem] android-surface border-none shadow-2xl",children:[(0,r.jsx)(h.A,{className:"w-12 h-12 text-muted-foreground/20 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"font-black text-xl mb-6",children:"Authentication Required"}),(0,r.jsx)(S(),{href:"/",children:(0,r.jsx)(i.$,{className:"w-full rounded-2xl h-14 font-black",children:"Return Home"})})]})})}},76444:(e,a,s)=>{"use strict";s.d(a,{J:()=>c});var r=s(95155),t=s(12115),l=s(10489),i=s(83101),d=s(64269);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.b,{ref:a,className:(0,d.cn)(n(),s),...t})});c.displayName=l.b.displayName},85897:(e,a,s)=>{"use strict";s.d(a,{BK:()=>n,eu:()=>d,q5:()=>c});var r=s(95155),t=s(12115),l=s(7870),i=s(64269);let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.bL,{ref:a,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});d.displayName=l.bL.displayName;let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l._V,{ref:a,className:(0,i.cn)("aspect-square h-full w-full",s),...t})});n.displayName=l._V.displayName;let c=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(l.H4,{ref:a,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})});c.displayName=l.H4.displayName}},e=>{e.O(0,[644,992,559,385,528,619,963,850,122,469,272,332,441,493,358],()=>e(e.s=50642)),_N_E=e.O()}]);